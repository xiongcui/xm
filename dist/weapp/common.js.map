{"version":3,"file":"common.js","sources":["webpack:///._src_api_index.js","webpack:///._src_assets_images_avatar_default.png","webpack:///._src_assets_images_nan.png","webpack:///._src_assets_images_user_index_invoice.png","webpack:///._src_utils_util.js"],"sourcesContent":["import { request } from \"../utils/util\";\nconst baseUrl = \"https://tapi.cupz.cn\";\n// WX登录,拿code换登录\nexport const wxlogin = (data) => {\n  return request({\n    url: baseUrl + \"/v1/token\",\n    method: \"POST\",\n    data,\n  });\n};\n// 获取手机号码\nexport const getPhone = (data) => {\n  return request({\n    url: baseUrl + \"/v1/user/decrypt/mobile\",\n    method: \"POST\",\n    data,\n  });\n};\n// 上传文件\nexport const uploadFile = (data) => {\n  return request({\n    url: baseUrl + \"/v1/file/upload\",\n    method: \"POST\",\n    data,\n  });\n};\n// 更新个人资料\nexport const updateUser = (data) => {\n  return request({\n    url: baseUrl + \"/v1/user\",\n    method: \"PUT\",\n    data,\n  });\n};\n// 获得身份\nexport const getCareer = (data) => {\n  return request({\n    url: baseUrl + \"/v1/user/career\",\n    method: \"get\",\n    data,\n  });\n};\n// 创建身份\nexport const creatCareer = (data) => {\n  return request({\n    url: baseUrl + \"/v1/user/career\",\n    method: \"post\",\n    data,\n  });\n};\n// 获得参数\nexport const publicConfig = (data) => {\n  return request({\n    url: baseUrl + \"/v1/public/config\",\n    method: \"post\",\n    data,\n  });\n};\n// 创建约拍\nexport const creatInvite = (data) => {\n  return request({\n    url: baseUrl + \"/v1/note/publish/invite\",\n    method: \"post\",\n    data,\n  });\n};\n","module.exports = __webpack_public_path__ + \"assets/images/avatar_default.png\";","module.exports = __webpack_public_path__ + \"assets/images/nan.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAuCAMAAACLUGAGAAAAgVBMVEUAAAA0NDQ0NDQzMzM2NjYzMzMzMzM0NDQ0NDQuLi4zMzMzMzMzMzMzMzMxMTEzMzMzMzMuLi4zMzMzMzMzMzMyMjIyMjIyMjIyMjIzMzMzMzMzMzMyMjIyMjIzMzMwMDAyMjIzMzMzMzMyMjIyMjIzMzMzMzMzMzM1NTUxMTEzMzMpKmdvAAAAKnRSTlMAcWOuJghpy2wE9UL74R6+pQ2BUkYys1nrzayZd0ooFcqRbuTa2NSNOjkVNVrzAAABFklEQVRIx+3U2XKDIBSA4YMNtgRFiVs0Rpt0P+//gD0MF8UFepOZTCb5bxT9ZHAZ4b4SMmZrnQu9xGWKvrZsgRMMtJstg2Z+ZdFacYeYDBMtCQvwdJpPHiMy8FUh5uDGECOv3iA+XULL2K0RQS3nj+6CGsoXt/BKll1N6/zZLRuCusFph6BW6fTLPv6zbu4m4Eae4I1qUfSlc/S4O49+rVpErDXYeEejvfTpwb72jINJZ/blF+u62iOmbEuzGz62JGO6IonWdE7uQ0FJm06AeicsgdfmQ1xqUzuaW0voyu83WnJFI5EjNdMFUpm2+8SpdGNPfSF1mmiR0YQcbI3hnwrA1ieYKpjyn8r5TR7qnv8NldTwyNsv5no8DtvqAe0AAAAASUVORK5CYII=\"","import { Base64 } from \"js-Base64\";\nexport const formatTime = (date) => {\n  const year = date.getFullYear();\n  const month = date.getMonth() + 1;\n  const day = date.getDate();\n  const hour = date.getHours();\n  const minute = date.getMinutes();\n  const second = date.getSeconds();\n\n  return (\n    [year, month, day].map(formatNumber).join(\"/\") +\n    \" \" +\n    [hour, minute, second].map(formatNumber).join(\":\")\n  );\n};\n\nexport const formatNumber = (n) => {\n  n = n.toString();\n  return n[1] ? n : \"0\" + n;\n};\n\nexport const openPage = (url) => {\n  console.log(\"open page:\", url);\n  wx.navigateTo({\n    url: url,\n  });\n};\n\nexport const timeformat = function (date, fmt) {\n  fmt = fmt || \"yyyy-MM-dd HH:mm:ss\";\n  const o = {\n    \"M+\": date.getMonth() + 1, // 月份\n    \"d+\": date.getDate(), // 日\n    \"h+\": date.getHours() % 12 === 0 ? 12 : date.getHours() % 12, // 小时\n    \"H+\": date.getHours(), // 小时\n    \"m+\": date.getMinutes(), // 分\n    \"s+\": date.getSeconds(), // 秒\n    \"q+\": Math.floor((date.getMonth() + 3) / 3), // 季度\n    S: date.getMilliseconds(), // 毫秒\n  };\n  const week = {\n    0: \"/u65e5\",\n    1: \"/u4e00\",\n    2: \"/u4e8c\",\n    3: \"/u4e09\",\n    4: \"/u56db\",\n    5: \"/u4e94\",\n    6: \"/u516d\",\n  };\n  if (/(y+)/.test(fmt)) {\n    fmt = fmt.replace(\n      RegExp.$1,\n      (date.getFullYear() + \"\").substr(4 - RegExp.$1.length)\n    );\n  }\n  if (/(E+)/.test(fmt)) {\n    fmt = fmt.replace(\n      RegExp.$1,\n      (RegExp.$1.length > 1\n        ? RegExp.$1.length > 2\n          ? \"/u661f/u671f\"\n          : \"/u5468\"\n        : \"\") + week[date.getDay() + \"\"]\n    );\n  }\n  for (const k in o) {\n    if (new RegExp(\"(\" + k + \")\").test(fmt)) {\n      fmt = fmt.replace(\n        RegExp.$1,\n        RegExp.$1.length === 1 ? o[k] : (\"00\" + o[k]).substr((\"\" + o[k]).length)\n      );\n    }\n  }\n  return fmt;\n};\n\nexport const request = (params) => {\n  let header = {};\n  let token = wx.getStorageSync(\"token\");\n  header[\"Authorization\"] = \"Basic \" + Base64.encode(token + \":\");\n  let data = Object.assign(header, params);\n  return new Promise((resolev, reject) => {\n    wx.request({\n      ...data,\n      header,\n      url: params.url,\n      success: (res) => {\n        if (res.data.code == 200) {\n          resolev(res);\n        } else if (res.data.error_code == 1002 || res.data.error_code == 1003) {\n          openPage(\"/pages/login/index\");\n        } else {\n          errortip(res.data.msg);\n          reject(res);\n        }\n      },\n      fail: (err) => {\n        reject(err);\n      },\n    });\n  });\n};\n\nexport const errortip = (txt) => {\n  wx.showToast({\n    title: txt,\n    icon: \"error\",\n    duration: 2000,\n  });\n};\n"],"mappings":";;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;;;;;;;;;;;;ACjEA;;;;;;;;;;;;ACAA;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAKA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AADA;AAGA;AAEA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AATA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AACA;AAQA;AACA;AAIA;AACA;AAAA;AACA;AAQA;AACA;AAAA;AACA;AACA;AAIA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhBA;AAkBA;AACA;AAEA;AACA;AACA;AACA;AACA;AAHA;AAKA;;;;A","sourceRoot":""}