{"version":3,"file":"packageMoka/pages/moka/editpersondata/index.js","sources":["webpack:///./src/packageMoka/pages/moka/editpersondata/index.vue?db23","webpack:///index.vue","webpack:///./src/packageMoka/pages/moka/editpersondata/index.vue?6006","webpack:///._src_packageMoka_pages_moka_editpersondata_index.scss","webpack:///._src_packageMoka_pages_moka_editpersondata_index.vue","webpack:///./src/packageMoka/pages/moka/editpersondata/index.vue?c99b","webpack:///./src/packageMoka/pages/moka/editpersondata/index.vue?f838"],"sourcesContent":["import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=8bff9e04&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  \n}\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"8bff9e04\",\n  \"5c1954f0\"\n  \n)\n\ncomponent.options.__file = \"src/packageMoka/pages/moka/editpersondata/index.vue\"\nexport default component.exports","<template>\n  <view class=\"editpersondata\">\n    <view class=\"infor\">\n      <picker\n        @change=\"heightChange\"\n        :range=\"heights\"\n        :value=\"heightIndex ? heightIndex : 125\"\n      >\n        <view class=\"item ub item-b\">\n          <view class=\"ub-f1 ub item_mid\">\n            <view class=\"item_label\">身高（cm）</view>\n            <view class=\"ub-f1 item_input\">\n              <view class=\"picker\" v-if=\"heightIndex === ''\">请选择</view>\n              <view class=\"picker\" v-else>{{ heights[heightIndex] }}cm</view>\n            </view>\n          </view>\n          <view class=\"item_right\">\n            <image\n              mode=\"aspectFit\"\n              src=\"https://yuepai-oss.qubeitech.com/static/images/common/icon_right.png\"\n            ></image>\n          </view>\n        </view>\n      </picker>\n      <picker\n        @change=\"weightChange\"\n        :range=\"weights\"\n        :value=\"weightIndex ? weightIndex : 35\"\n      >\n        <view class=\"item ub item-b\">\n          <view class=\"ub-f1 ub item_mid\">\n            <view class=\"item_label\">体重（kg）</view>\n            <view class=\"ub-f1 item_input\">\n              <view class=\"picker\" v-if=\"weightIndex === ''\">请选择</view>\n              <view class=\"picker\" v-else>{{ weights[weightIndex] }}kg</view>\n            </view>\n          </view>\n          <view class=\"item_right\">\n            <image\n              mode=\"aspectFit\"\n              src=\"https://yuepai-oss.qubeitech.com/static/images/common/icon_right.png\"\n            ></image>\n          </view>\n        </view>\n      </picker>\n      <picker\n        @change=\"BWHChange\"\n        mode=\"multiSelector\"\n        :range=\"BWHs\"\n        :value=\"BWHIndex\"\n      >\n        <view class=\"item ub item-b\">\n          <view class=\"ub-f1 ub item_mid\">\n            <view class=\"item_label\">三围</view>\n            <view class=\"ub-f1 item_input\">\n              <view class=\"picker\" v-if=\"BWHIndex.length\">\n                胸围{{ BWHs[0][BWHIndex[0]] }} 腰围{{\n                  BWHs[1][BWHIndex[1]]\n                }}\n                臀围{{ BWHs[2][BWHIndex[2]] }}\n              </view>\n              <view class=\"picker\" v-else>请选择</view>\n            </view>\n          </view>\n          <view class=\"item_right\">\n            <image\n              mode=\"aspectFit\"\n              src=\"https://yuepai-oss.qubeitech.com/static/images/common/icon_right.png\"\n            ></image>\n          </view>\n        </view>\n      </picker>\n      <picker\n        @change=\"shoeChange\"\n        :range=\"shoes\"\n        :value=\"shoeIndex ? shoeIndex : 18\"\n      >\n        <view class=\"item ub\">\n          <view class=\"ub-f1 ub item_mid\">\n            <view class=\"item_label\">鞋码</view>\n            <view class=\"ub-f1 item_input\">\n              <view class=\"picker\" v-if=\"shoeIndex === ''\">请选择</view>\n              <view class=\"picker\" v-else>{{ shoes[shoeIndex] }}</view>\n            </view>\n          </view>\n          <view class=\"item_right\">\n            <image\n              mode=\"aspectFit\"\n              src=\"https://yuepai-oss.qubeitech.com/static/images/common/icon_right.png\"\n            ></image>\n          </view>\n        </view>\n      </picker>\n    </view>\n    <view class=\"sub_btn\">\n      <button @tap=\"sub\" type=\"primary\">保存</button>\n    </view>\n  </view>\n</template>\n\n<script>\nimport \"./index.scss\";\nimport {\n  publicConfig,\n  userShape,\n  userShapeDetail,\n} from \"../../../../api/index\";\nimport { errortip } from \"../../../../utils/util\";\nexport default {\n  name: \"editpersondata\",\n  data() {\n    return {\n      heights: [],\n      heightIndex: \"\",\n      weights: [],\n      weightIndex: \"\",\n      shoes: [],\n      shoeIndex: \"\",\n      BWHs: [[], [], []],\n      BWHIndex: Array(),\n      isshowBWH: true,\n    };\n  },\n  methods: {\n    heightChange(e) {\n      this.heightIndex = e.detail.value;\n    },\n    weightChange(e) {\n      this.weightIndex = e.detail.value;\n    },\n    BWHChange(e) {\n      this.BWHIndex = e.detail.value;\n    },\n    shoeChange(e) {\n      this.shoeIndex = e.detail.value;\n    },\n    sub() {\n      let height = this.heights[this.heightIndex];\n      let weight = this.weights[this.weightIndex];\n      let bust = this.BWHs[0][this.BWHIndex[0]];\n      let waist = this.BWHs[1][this.BWHIndex[1]];\n      let hip = this.BWHs[2][this.BWHIndex[2]];\n      let size = this.shoes[this.shoeIndex];\n      if (!height) {\n        errortip(\"请选择身高！\");\n        return;\n      }\n      if (!weight) {\n        errortip(\"请选择体重！\");\n        return;\n      }\n      if (!bust && !waist && !hip) {\n        errortip(\"请选择三围！\");\n        return;\n      }\n      if (!size) {\n        errortip(\"请选择鞋码！\");\n        return;\n      }\n      let params = {\n        height: height,\n        weight: weight,\n        bust: bust,\n        waist: waist,\n        hip: hip,\n        size: size,\n      };\n      this.userShape(params);\n    },\n    async userShape(params) {\n      try {\n        let res = await userShape(params);\n        wx.navigateBack({\n          delta: 1,\n        });\n      } catch (error) {}\n    },\n    async userShapeDetail(params) {\n      try {\n        let res = await userShapeDetail(params);\n        this.heightIndex = this.heights.findIndex((item) => {\n          return item == res.data.data.height;\n        });\n        this.weightIndex = this.weights.findIndex((item) => {\n          return item == res.data.data.weight;\n        });\n        this.BWHIndex[0] = this.BWHs[0].findIndex((item) => {\n          return item == res.data.data.bust;\n        });\n        this.BWHIndex[1] = this.BWHs[1].findIndex((item) => {\n          return item == res.data.data.waist;\n        });\n        this.BWHIndex[2] = this.BWHs[2].findIndex((item) => {\n          return item == res.data.data.hip;\n        });\n        this.shoeIndex = this.shoes.findIndex((item) => {\n          return item == res.data.data.size;\n        });\n        this.BWHIndex = JSON.parse(JSON.stringify(this.BWHIndex));\n      } catch (error) {}\n    },\n    async publicConfig(params) {\n      try {\n        let res = await publicConfig(params);\n        let arr = [];\n        let arr2 = [];\n        let arr3 = [];\n        let arr4 = [];\n        res.data.data.map((item) => {\n          if (item.type == \"shape_height\") {\n            arr.push(item.value);\n          }\n          if (item.type == \"shape_weight\") {\n            arr2.push(item.value);\n          }\n          if (item.type == \"shape_bwh\") {\n            arr3.push(item.value);\n          }\n          if (item.type == \"shape_size\") {\n            arr4.push(item.value);\n          }\n        });\n        this.heights = arr;\n        this.weights = arr2;\n        this.BWHs = [arr3, arr3, arr3];\n        this.shoes = arr4;\n        this.userShapeDetail(\"\");\n      } catch (error) {}\n    },\n  },\n  created() {\n    this.publicConfig({\n      type: [\"shape_height\", \"shape_weight\", \"shape_bwh\", \"shape_size\"],\n    });\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n","var render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"view\", { staticClass: \"editpersondata\" }, [\n    _c(\n      \"view\",\n      { staticClass: \"infor\" },\n      [\n        _c(\n          \"picker\",\n          {\n            attrs: {\n              range: _vm.heights,\n              value: _vm.heightIndex ? _vm.heightIndex : 125,\n            },\n            on: { change: _vm.heightChange },\n          },\n          [\n            _c(\"view\", { staticClass: \"item ub item-b\" }, [\n              _c(\"view\", { staticClass: \"ub-f1 ub item_mid\" }, [\n                _c(\"view\", { staticClass: \"item_label\" }, [\n                  _vm._v(\"身高（cm）\"),\n                ]),\n                _c(\"view\", { staticClass: \"ub-f1 item_input\" }, [\n                  _vm.heightIndex === \"\"\n                    ? _c(\"view\", { staticClass: \"picker\" }, [_vm._v(\"请选择\")])\n                    : _c(\"view\", { staticClass: \"picker\" }, [\n                        _vm._v(_vm._s(_vm.heights[_vm.heightIndex]) + \"cm\"),\n                      ]),\n                ]),\n              ]),\n              _c(\"view\", { staticClass: \"item_right\" }, [\n                _c(\"image\", {\n                  attrs: {\n                    mode: \"aspectFit\",\n                    src: \"https://yuepai-oss.qubeitech.com/static/images/common/icon_right.png\",\n                  },\n                }),\n              ]),\n            ]),\n          ]\n        ),\n        _c(\n          \"picker\",\n          {\n            attrs: {\n              range: _vm.weights,\n              value: _vm.weightIndex ? _vm.weightIndex : 35,\n            },\n            on: { change: _vm.weightChange },\n          },\n          [\n            _c(\"view\", { staticClass: \"item ub item-b\" }, [\n              _c(\"view\", { staticClass: \"ub-f1 ub item_mid\" }, [\n                _c(\"view\", { staticClass: \"item_label\" }, [\n                  _vm._v(\"体重（kg）\"),\n                ]),\n                _c(\"view\", { staticClass: \"ub-f1 item_input\" }, [\n                  _vm.weightIndex === \"\"\n                    ? _c(\"view\", { staticClass: \"picker\" }, [_vm._v(\"请选择\")])\n                    : _c(\"view\", { staticClass: \"picker\" }, [\n                        _vm._v(_vm._s(_vm.weights[_vm.weightIndex]) + \"kg\"),\n                      ]),\n                ]),\n              ]),\n              _c(\"view\", { staticClass: \"item_right\" }, [\n                _c(\"image\", {\n                  attrs: {\n                    mode: \"aspectFit\",\n                    src: \"https://yuepai-oss.qubeitech.com/static/images/common/icon_right.png\",\n                  },\n                }),\n              ]),\n            ]),\n          ]\n        ),\n        _c(\n          \"picker\",\n          {\n            attrs: {\n              mode: \"multiSelector\",\n              range: _vm.BWHs,\n              value: _vm.BWHIndex,\n            },\n            on: { change: _vm.BWHChange },\n          },\n          [\n            _c(\"view\", { staticClass: \"item ub item-b\" }, [\n              _c(\"view\", { staticClass: \"ub-f1 ub item_mid\" }, [\n                _c(\"view\", { staticClass: \"item_label\" }, [_vm._v(\"三围\")]),\n                _c(\"view\", { staticClass: \"ub-f1 item_input\" }, [\n                  _vm.BWHIndex.length\n                    ? _c(\"view\", { staticClass: \"picker\" }, [\n                        _vm._v(\n                          \" 胸围\" +\n                            _vm._s(_vm.BWHs[0][_vm.BWHIndex[0]]) +\n                            \" 腰围\" +\n                            _vm._s(_vm.BWHs[1][_vm.BWHIndex[1]]) +\n                            \" 臀围\" +\n                            _vm._s(_vm.BWHs[2][_vm.BWHIndex[2]]) +\n                            \" \"\n                        ),\n                      ])\n                    : _c(\"view\", { staticClass: \"picker\" }, [_vm._v(\"请选择\")]),\n                ]),\n              ]),\n              _c(\"view\", { staticClass: \"item_right\" }, [\n                _c(\"image\", {\n                  attrs: {\n                    mode: \"aspectFit\",\n                    src: \"https://yuepai-oss.qubeitech.com/static/images/common/icon_right.png\",\n                  },\n                }),\n              ]),\n            ]),\n          ]\n        ),\n        _c(\n          \"picker\",\n          {\n            attrs: {\n              range: _vm.shoes,\n              value: _vm.shoeIndex ? _vm.shoeIndex : 18,\n            },\n            on: { change: _vm.shoeChange },\n          },\n          [\n            _c(\"view\", { staticClass: \"item ub\" }, [\n              _c(\"view\", { staticClass: \"ub-f1 ub item_mid\" }, [\n                _c(\"view\", { staticClass: \"item_label\" }, [_vm._v(\"鞋码\")]),\n                _c(\"view\", { staticClass: \"ub-f1 item_input\" }, [\n                  _vm.shoeIndex === \"\"\n                    ? _c(\"view\", { staticClass: \"picker\" }, [_vm._v(\"请选择\")])\n                    : _c(\"view\", { staticClass: \"picker\" }, [\n                        _vm._v(_vm._s(_vm.shoes[_vm.shoeIndex])),\n                      ]),\n                ]),\n              ]),\n              _c(\"view\", { staticClass: \"item_right\" }, [\n                _c(\"image\", {\n                  attrs: {\n                    mode: \"aspectFit\",\n                    src: \"https://yuepai-oss.qubeitech.com/static/images/common/icon_right.png\",\n                  },\n                }),\n              ]),\n            ]),\n          ]\n        ),\n      ],\n      1\n    ),\n    _c(\"view\", { staticClass: \"sub_btn\" }, [\n      _c(\"button\", { attrs: { type: \"primary\" }, on: { tap: _vm.sub } }, [\n        _vm._v(\"保存\"),\n      ]),\n    ]),\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","// extracted by mini-css-extract-plugin","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"../../../../../node_modules/@tarojs/taro-loader/lib/raw.js!./index.vue\"\nvar config = {\"navigationBarTitleText\":\"形象信息\",\"backgroundColor\":\"#FE5457\",\"backgroundColorTop\":\"#FE5457\",\"backgroundColorBottom\":\"#f7f7f7\",\"usingComponents\":{}};\n\n\nvar inst = Page(createPageConfig(component, 'packageMoka/pages/moka/editpersondata/index', {root:{cn:[]}}, config || {}))\n\n\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=template&id=8bff9e04&scoped=true&\""],"mappings":";;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC+EA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAEA;AACA;AACA;AADA;AAHA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AArBA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAuBA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AA1BA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA2BA;AAzGA;AA2GA;AACA;AACA;AADA;AAGA;AA9HA;;;;;;;;;;;;;AC5GA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AClKA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACPA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;;;A","sourceRoot":""}