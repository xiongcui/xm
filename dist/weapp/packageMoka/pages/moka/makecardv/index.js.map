{"version":3,"file":"packageMoka/pages/moka/makecardv/index.js","sources":["webpack:///./src/packageMoka/pages/moka/makecardv/index.vue?9423","webpack:///index.vue","webpack:///./src/packageMoka/pages/moka/makecardv/index.vue?1aa3","webpack:///._src_packageMoka_pages_moka_makecardv_index.scss","webpack:///._src_packageMoka_pages_moka_makecardv_index.vue","webpack:///./src/packageMoka/pages/moka/makecardv/index.vue?8645","webpack:///./src/packageMoka/pages/moka/makecardv/index.vue?c6fa"],"sourcesContent":["import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=ba8ac00e&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  \n}\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"ba8ac00e\",\n  \"5cb34cc7\"\n  \n)\n\ncomponent.options.__file = \"src/packageMoka/pages/moka/makecardv/index.vue\"\nexport default component.exports","<template>\n  <view class=\"makecardv\">\n    <view class=\"container\">\n      <scroll-view\n        :class=\"`main-scrollview ${\n          isDark ? 'main-scrollview-black' : 'main-scrollview-white'\n        }`\"\n        :scrollTop=\"scrollTop\"\n        :scrollY=\"allowScroll\"\n        :style=\"{\n          height:\n            screenH - 160 > card.height\n              ? card.height + 12\n              : screenH - 160 + 'rpx',\n          width: card.width + 12 + 'rpx',\n        }\"\n      >\n        <movable-area\n          class=\"photos-container\"\n          :style=\"{\n            height: card.height + 'rpx',\n            width: card.width + 'rpx',\n            backgroundColor: isDark ? darkStyle.bgColor : lightStyle.bgColor,\n          }\"\n        >\n          <movable-view\n            class=\"userinfo\"\n            :disabled=\"true\"\n            :outOfBounds=\"true\"\n            :scale=\"false\"\n            :style=\"{\n              height: card.userInfo.height + 'rpx',\n              width: card.userInfo.width + 'rpx',\n            }\"\n            :x=\"card.userInfo.x + 'rpx'\"\n            :y=\"card.userInfo.y + 'rpx'\"\n          >\n            <view\n              class=\"userinfo-container\"\n              :style=\"{\n                height: card.userInfo.height + 'rpx',\n                width: card.userInfo.width + 'rpx',\n              }\"\n              v-if=\"card.type == 'charu' || card.type == 'dibu'\"\n            >\n              <view class=\"ub userinfo-info\" v-if=\"!isMoveQrcode\">\n                <view\n                  class=\"name\"\n                  :style=\"{\n                    color: isDark ? darkStyle.nameColor : lightStyle.nameColor,\n                  }\"\n                  >{{ userInfo.nickname }}</view\n                >\n                <view class=\"text-info ub-f1\">\n                  <view class=\"charu_move_bwh\" v-if=\"!userInfo.is_bwh\"></view>\n                  <view class=\"text-line\">\n                    <text\n                      class=\"property\"\n                      :style=\"{\n                        color: isDark\n                          ? darkStyle.propertyColor\n                          : lightStyle.propertyColor,\n                      }\"\n                      >身高 {{ userInfo.height }}cm</text\n                    >\n                    <text\n                      class=\"property\"\n                      :style=\"{\n                        color: isDark\n                          ? darkStyle.propertyColor\n                          : lightStyle.propertyColor,\n                      }\"\n                      >体重 {{ userInfo.weight }}kg</text\n                    >\n                    <text\n                      class=\"property\"\n                      :style=\"{\n                        color: isDark\n                          ? darkStyle.propertyColor\n                          : lightStyle.propertyColor,\n                      }\"\n                      >鞋码 {{ userInfo.shoe }}</text\n                    >\n                  </view>\n                  <view class=\"text-line\" v-if=\"userInfo.is_bwh\">\n                    <text\n                      class=\"property\"\n                      :style=\"{\n                        color: isDark\n                          ? darkStyle.propertyColor\n                          : lightStyle.propertyColor,\n                      }\"\n                      >胸围 {{ userInfo.bwh_b }}</text\n                    >\n                    <text\n                      class=\"property\"\n                      :style=\"{\n                        color: isDark\n                          ? darkStyle.propertyColor\n                          : lightStyle.propertyColor,\n                      }\"\n                      >腰围 {{ userInfo.bwh_w }}</text\n                    >\n                    <text\n                      class=\"property\"\n                      :style=\"{\n                        color: isDark\n                          ? darkStyle.propertyColor\n                          : lightStyle.propertyColor,\n                      }\"\n                      >臀围 {{ userInfo.bwh_h }}</text\n                    >\n                  </view>\n                </view>\n                <view class=\"logoavatar\">\n                  <image mode=\"aspectFit\" :src=\"logoAvartar\"></image>\n                </view>\n              </view>\n              <view class=\"userinfo-info-moveqr\" v-else>\n                <view\n                  class=\"name-moveqr\"\n                  :style=\"{\n                    color: isDark ? darkStyle.nameColor : lightStyle.nameColor,\n                  }\"\n                  >{{ userInfo.nickname }}</view\n                >\n                <view class=\"text-info-moveqr\">\n                  <view class=\"text-line\">\n                    <text\n                      class=\"property\"\n                      :style=\"{\n                        color: isDark\n                          ? darkStyle.propertyColor\n                          : lightStyle.propertyColor,\n                      }\"\n                      >身高 {{ userInfo.height }}cm</text\n                    >\n                    <text\n                      class=\"property\"\n                      :style=\"{\n                        color: isDark\n                          ? darkStyle.propertyColor\n                          : lightStyle.propertyColor,\n                      }\"\n                      >体重 {{ userInfo.weight }}kg</text\n                    >\n                    <text\n                      class=\"property\"\n                      :style=\"{\n                        color: isDark\n                          ? darkStyle.propertyColor\n                          : lightStyle.propertyColor,\n                      }\"\n                      >鞋码 {{ userInfo.shoe }}</text\n                    >\n                    <block v-if=\"userInfo.is_bwh\">\n                      <text\n                        class=\"property\"\n                        :style=\"{\n                          color: isDark\n                            ? darkStyle.propertyColor\n                            : lightStyle.propertyColor,\n                        }\"\n                        >胸围 {{ userInfo.bwh_b }}</text\n                      >\n                      <text\n                        class=\"property\"\n                        :style=\"{\n                          color: isDark\n                            ? darkStyle.propertyColor\n                            : lightStyle.propertyColor,\n                        }\"\n                        >腰围 {{ userInfo.bwh_w }}</text\n                      >\n                      <text\n                        class=\"property\"\n                        :style=\"{\n                          color: isDark\n                            ? darkStyle.propertyColor\n                            : lightStyle.propertyColor,\n                        }\"\n                        >臀围 {{ userInfo.bwh_h }}</text\n                      >\n                    </block>\n                  </view>\n                </view>\n              </view>\n            </view>\n            <view\n              class=\"userinfo-container\"\n              :style=\"{\n                height: card.userInfo.height + 'rpx',\n                width: card.userInfo.width + 'rpx',\n              }\"\n              v-if=\"card.type == 'cebian'\"\n            >\n              <view class=\"userinfo-info-neiqian\">\n                <view class=\"neiqian_move_qrcode\" v-if=\"isMoveQrcode\"></view>\n                <view class=\"neiqian_move_bwh\" v-if=\"!userInfo.is_bwh\"></view>\n                <text\n                  class=\"name-neiqian\"\n                  :style=\"{\n                    color: isDark ? darkStyle.nameColor : lightStyle.nameColor,\n                  }\"\n                  >{{ userInfo.nickname }}</text\n                >\n                <view class=\"text-info-neiqian\">\n                  <view class=\"text-line\">\n                    <text\n                      class=\"property\"\n                      :style=\"{\n                        color: isDark\n                          ? darkStyle.propertyColor\n                          : lightStyle.propertyColor,\n                      }\"\n                      >身高 {{ userInfo.height }}cm</text\n                    >\n                    <text\n                      class=\"property\"\n                      :style=\"{\n                        color: isDark\n                          ? darkStyle.propertyColor\n                          : lightStyle.propertyColor,\n                      }\"\n                      >体重 {{ userInfo.weight }}kg</text\n                    >\n                    <text\n                      class=\"property\"\n                      :style=\"{\n                        color: isDark\n                          ? darkStyle.propertyColor\n                          : lightStyle.propertyColor,\n                      }\"\n                      >鞋码 {{ userInfo.shoe }}</text\n                    >\n                  </view>\n                  <view class=\"text-line\" v-if=\"userInfo.is_bwh\">\n                    <text\n                      class=\"property\"\n                      :style=\"{\n                        color: isDark\n                          ? darkStyle.propertyColor\n                          : lightStyle.propertyColor,\n                      }\"\n                      >胸围 {{ userInfo.bwh_b }}</text\n                    >\n                    <text\n                      class=\"property\"\n                      :style=\"{\n                        color: isDark\n                          ? darkStyle.propertyColor\n                          : lightStyle.propertyColor,\n                      }\"\n                      >腰围 {{ userInfo.bwh_w }}</text\n                    >\n                    <text\n                      class=\"property\"\n                      :style=\"{\n                        color: isDark\n                          ? darkStyle.propertyColor\n                          : lightStyle.propertyColor,\n                      }\"\n                      >臀围 {{ userInfo.bwh_h }}</text\n                    >\n                  </view>\n                </view>\n                <image\n                  mode=\"aspectFit\"\n                  :src=\"logoAvartar\"\n                  v-if=\"!isMoveQrcode\"\n                ></image>\n              </view>\n            </view>\n          </movable-view>\n          <movable-view\n            class=\"layout\"\n            :disabled=\"true\"\n            :id=\"item.id\"\n            :outOfBounds=\"true\"\n            :scale=\"false\"\n            :style=\"{ height: item.height + 'rpx', width: item.width + 'rpx' }\"\n            :x=\"item.x + 'rpx'\"\n            :y=\"item.y + 'rpx'\"\n            v-for=\"(item, index) in card.layouts\"\n            :key=\"index\"\n          >\n            <scroll-view\n              @scroll=\"scroll\"\n              @tap=\"tapPhoto\"\n              @touchend=\"touchEnd\"\n              @touchmove=\"touchMove\"\n              @touchstart=\"touchStart\"\n              class=\"photo-container\"\n              :id=\"item.id\"\n              :scrollX=\"\n                photoInfos[index].scrollX || scrollInfo[index].scale != 1\n              \"\n              :scrollY=\"\n                photoInfos[index].scrollY || scrollInfo[index].scale != 1\n              \"\n              :style=\"{\n                height: item.height + 'rpx',\n                width: item.width + 'rpx',\n                border: `1rpx solid ${\n                  isDark ? darkStyle.bgColor : lightStyle.bgColor\n                }`,\n              }\"\n              v-if=\"index < photoInfos.length\"\n            >\n              <image\n                class=\"rotate\"\n                :src=\"photos[index]\"\n                :style=\"{\n                  height:\n                    photoInfos[index].rotateH * (scrollInfo[index].scale || 1) +\n                    'rpx',\n                  width:\n                    photoInfos[index].rotateW * (scrollInfo[index].scale || 1) +\n                    'rpx',\n                  verticalAlign: 'middle',\n                }\"\n              ></image>\n            </scroll-view>\n            <view\n              @tap=\"changePhoto\"\n              class=\"change\"\n              v-show=\"showChangeButton && index == changeIndex\"\n              :id=\"item.id\"\n              :style=\"{\n                top: (item.height - 100) * 0.5 + 'rpx',\n                right: (item.width - 100) * 0.5 + 'rpx',\n              }\"\n              >替换</view\n            >\n          </movable-view>\n        </movable-area>\n      </scroll-view>\n      <view\n        @touchstart=\"touchStart\"\n        class=\"slider\"\n        v-show=\"card.height >= 1040\"\n        :style=\"{ top: (screenH - 458) * 0.5 + 'rpx' }\"\n      >\n        <movable-area class=\"slider-bg\">\n          <movable-view\n            @change=\"sliderChange\"\n            class=\"slider-btn\"\n            direction=\"all\"\n            :scale=\"false\"\n            :x=\"0\"\n            :y=\"0\"\n          >\n            <image\n              src=\"../../../../assets/images/moka/makecard/slider_v.png\"\n            ></image>\n          </movable-view>\n        </movable-area>\n      </view>\n      <view :class=\"`finish ub ${isIphoneX ? 'fix-iphonex-button' : ''}`\">\n        <view @tap=\"switchBWH\" class=\"switch switch_bwh\">\n          <image\n            class=\"icon_check\"\n            src=\"../../../../assets/images/moka/makecard/bwh1.png\"\n            v-if=\"userInfo.is_bwh\"\n          ></image>\n          <image\n            class=\"icon_check\"\n            src=\"../../../../assets/images/moka/makecard/bwh0.png\"\n            v-else\n          ></image>\n        </view>\n        <view\n          @tap=\"switchQrcode\"\n          class=\"switch switch_qrcode\"\n          v-if=\"!userInfo.sub_user_id\"\n        >\n          <image\n            class=\"icon_check_qrcode\"\n            src=\"../../../../assets/images/moka/makecard/qrcode0.png\"\n            v-if=\"isMoveQrcode\"\n          ></image>\n          <image\n            class=\"icon_check_qrcode\"\n            src=\"../../../../assets/images/moka/makecard/qrcode1.png\"\n            v-else\n          ></image>\n        </view>\n        <view @tap=\"switchBg\" class=\"switch switch_bg\">\n          <image\n            class=\"icon_switchbg\"\n            src=\"../../../../assets/images/moka/makecard/switchbg.png\"\n          ></image>\n        </view>\n        <view class=\"ub-f1\"></view>\n        <view class=\"switch\">\n          <view @tap=\"make\" class=\"make\">制作</view>\n        </view>\n      </view>\n    </view>\n    <view style=\"width: 0px; height: 0px; overflow: hidden\">\n      <canvas\n        canvasId=\"cutCanvas\"\n        :hidden=\"canvasHidden\"\n        :style=\"{ width: cutCanvasWH + 'rpx', height: cutCanvasWH + 'rpx' }\"\n      ></canvas>\n    </view>\n    <view style=\"width: 0px; height: 0px; overflow: hidden\">\n      <canvas\n        canvasId=\"firstCanvas\"\n        :hidden=\"canvasHidden\"\n        style=\"width: 800px; height: 800px\"\n      ></canvas>\n    </view>\n  </view>\n</template>\n\n<script>\nimport \"./index.scss\";\nconst device = wx.getSystemInfoSync(); // 获取设备信息\nconst width = device.screenWidth; // 示例为一个与屏幕等宽的正方形裁剪框\nconst height = device.screenHeight;\nconst moka = require(\"../../../../assets/js/moka.js\");\nimport { qrcode } from \"../../../../api/index\";\nimport { openPage } from \"../../../../utils/util\";\nexport default {\n  name: \"makecardv\",\n  data() {\n    return {\n      isIphoneX: false,\n      showloadingmore: false,\n      pageloading: true,\n      loadingmore: true,\n      isloading: false,\n      isposting: false,\n      pageshow: \"\",\n      screenW: width * (750 / width),\n      screenH: (height - 64) * (750 / width),\n      showChangeButton: false,\n      changeIndex: -1,\n      scrollTop: 0,\n      allowScroll: false,\n      cutCanvasWH: 3200,\n      photos: [],\n      cutPhotos: [],\n      photoInfos: [],\n      scrollInfo: [],\n      card: {\n        userInfo: {\n          x: 0,\n          y: 0,\n        },\n      },\n      canvasHidden: false,\n      userInfo: {},\n      isMoveQrcode: 0,\n      isDark: true,\n      darkStyle: {\n        bgColor: \"black\",\n        pageBgColor: \"#292b32\",\n        nameColor: \"white\",\n        propertyColor: \"white\",\n        valueColor: \"#D5D5D5\",\n      },\n      lightStyle: {\n        bgColor: \"white\",\n        pageBgColor: \"#F4F6F7\",\n        nameColor: \"#15161D\",\n        propertyColor: \"#15161D\",\n        valueColor: \"#15161D\",\n      },\n      avartar: \"\",\n      logoAvartar: \"\",\n      blackLogoAvartar: \"\",\n      showMaking: false,\n      invite_count: 1,\n      tipmoveqrcode_task1: false,\n      tipmoveqrcode_task2: false,\n      blackCode: \"\",\n      whiteCode: \"\",\n      uploadData: {},\n      n: false,\n      h: false,\n      t: \"\",\n    };\n  },\n  methods: {\n    cutAvartar() {\n      let _this = this;\n      wx.downloadFile({\n        url: this.userInfo.avatar,\n        success: function (res) {\n          if (200 === res.statusCode) {\n            var e = wx.createCanvasContext(\"firstCanvas\");\n            e.save(),\n              e.beginPath(),\n              e.arc(100, 100, 100, 0, 2 * Math.PI, !1),\n              e.clip(),\n              e.drawImage(res.tempFilePath, 0, 0, 200, 200),\n              e.restore(),\n              e.draw(false, function (a) {\n                wx.canvasToTempFilePath({\n                  x: 0,\n                  y: 0,\n                  width: 200,\n                  height: 200,\n                  destWidth: 200,\n                  destHeight: 200,\n                  canvasId: \"firstCanvas\",\n                  fileType: \"png\",\n                  quality: 1,\n                  success: function (a) {\n                    _this.avartar = a.tempFilePath;\n                    _this.drawAvartar(true);\n                    _this.drawAvartar(false);\n                  },\n                  fail: function (t) {\n                    wx.showModal({\n                      title: \"头像裁剪失败\",\n                      showCancel: !1,\n                    });\n                  },\n                });\n              });\n          }\n        },\n      });\n    },\n    drawAvartar(t) {\n      var _this = this;\n      wx.downloadFile({\n        url: this.moka_code,\n        success: function (e) {\n          if (200 === e.statusCode && t) {\n            if (t) {\n              _this.blackCode = e.tempFilePath;\n            } else {\n              _this.whiteCode = e.tempFilePath;\n            }\n            _this.drawCode(_this);\n          }\n        },\n      });\n    },\n    drawCode(t) {\n      var a = this,\n        e = wx.createCanvasContext(\"firstCanvas\");\n      e.setFillStyle(\"white\"),\n        e.fillRect(0, 0, 200, 200),\n        e.drawImage(t ? a.blackCode : a.whiteCode, 0, 0, 200, 200),\n        e.drawImage(a.avartar, 55, 55, 90, 90),\n        e.draw(false, function (e) {\n          wx.canvasToTempFilePath({\n            x: 0,\n            y: 0,\n            width: 200,\n            height: 200,\n            destWidth: 200,\n            destHeight: 200,\n            canvasId: \"firstCanvas\",\n            fileType: \"png\",\n            quality: 1,\n            success: function (e) {\n              t\n                ? (a.logoAvartar = e.tempFilePath)\n                : (a.blackLogoAvartar = e.tempFilePath),\n                (a.canvasHidden = true);\n            },\n            fail: function (t) {\n              wx.showModal({\n                title: \"头像绘制失败\",\n                showCancel: false,\n              });\n            },\n          });\n        });\n    },\n    getPhotoInfos() {\n      !(function t(a, e, o) {\n        var s = a.photos,\n          i = a.card.layouts,\n          l = s[o],\n          r = i[o];\n        wx.getImageInfo({\n          src: l,\n          success: function (i) {\n            var l, n, h, d;\n            i.width / i.height > r.height / r.width\n              ? ((n = r.width),\n                (l = (i.width / i.height) * n),\n                (h = !0),\n                (d = !1))\n              : ((l = r.height),\n                (n = (i.height / i.width) * l),\n                (h = !1),\n                (d = !0));\n            var c = {\n              width: i.width,\n              height: i.height,\n              rotateW: l,\n              rotateH: n,\n              scrollX: h,\n              scrollY: d,\n            };\n            e[o] = c;\n            if ((o += 1) >= s.length) {\n              a.photos = s;\n              a.photoInfos = e;\n            } else {\n              t(a, e, o);\n            }\n          },\n        });\n      })(this, [], 0);\n    },\n    changePhoto(t) {\n      var a = parseInt(t.currentTarget.id),\n        _this = this;\n      wx.chooseImage({\n        count: 1,\n        sizeType: [\"compressed\"],\n        sourceType: [\"album\"],\n        success: function (t) {\n          var o = t.tempFilePaths[0];\n          _this.photos[a] = o;\n          _this.getPhotoInfos();\n          _this.changeIndex = -1;\n          _this.showChangeButton = false;\n        },\n      });\n    },\n    touchStart(a) {\n      this.allowScroll = false;\n      var e = parseInt(a.currentTarget.id);\n      this.t = e >= 0 && e < this.photos.length ? e : -1;\n      this.n = true;\n      if (a.touches.length >= 2) {\n        this.h = true;\n        var o = a.touches[1].pageX - a.touches[0].pageX,\n          s = a.touches[1].pageY - a.touches[0].pageY;\n        d = Math.sqrt(o * o + s * s);\n      }\n    },\n    touchMove(a) {\n      if (\n        !(this.t < 0 || this.t >= this.scrollInfo.length) &&\n        this.n &&\n        a.touches.length >= 2\n      ) {\n        var e = a.touches[1].pageX - a.touches[0].pageX,\n          o = a.touches[1].pageY - a.touches[0].pageY,\n          s = Math.sqrt(e * e + o * o) - d;\n        if (Math.abs(s) >= 0) {\n          var i = this.scrollInfo[this.t].scale || 1;\n          (i += 4e-4 * s) > 2 && (i = 2),\n            i < 1 && (i = 1),\n            (this.scrollInfo[this.t].scale = i),\n            (this.scrollInfo = this.scrollInfo);\n        }\n      }\n    },\n    touchEnd(a) {\n      if (0 == a.touches.length) {\n        if (((this.d = false), !this.n)) {\n          for (\n            var e = a.changedTouches[0], o = -1, s = this.card.layouts, i = 0;\n            i < s.length;\n            i++\n          ) {\n            var r = s[i];\n            if (this.isTouchInLayout(e, r)) {\n              o = r.id;\n              break;\n            }\n          }\n          var h = this.photos;\n          if (-1 != this.t && -1 != o) {\n            var c = h[this.t];\n            (h[this.t] = h[o]),\n              (h[o] = c),\n              (this.photos = h),\n              this.getPhotoInfos();\n          }\n        }\n        this.n = false;\n      }\n    },\n    sliderChange(t) {\n      this.allowScroll = true;\n      var h = 750 / width;\n      var a = t.detail.y,\n        e = 274 / h,\n        o = (((this.card.height - (this.screenH - 150) + 40) / h) * a) / e;\n      this.scrollTop = o;\n    },\n    switchBWH() {},\n    switchQrcode() {},\n    switchBg() {},\n    make() {\n      wx.showLoading({\n        title: \"制作中，请稍候...\",\n      });\n      !(function t(a, e, o) {\n        var h = 750 / width;\n        var s,\n          i,\n          r = a.scrollInfo,\n          d = a.photoInfos,\n          n = a.photos,\n          c = a.card.layouts,\n          l = n[o],\n          u = c[o],\n          g = d[o],\n          f = r[o],\n          w = a.cutCanvasWH / h;\n        g.width >= g.height && g.width > w\n          ? (i = ((s = w) / g.width) * g.height)\n          : g.width < g.height && g.height > w\n          ? (s = ((i = w) / g.height) * g.width)\n          : ((s = g.width), (i = g.height));\n        var v = (s * h) / g.rotateW,\n          p = f.scale,\n          I = (u.width * v) / (h * p),\n          y = (u.height * v) / (h * p),\n          x = wx.createCanvasContext(\"cutCanvas\");\n        x.clearRect(0, 0, s, i),\n          x.drawImage(l, 0, 0, s, i),\n          x.draw(!1, function (s) {\n            wx.canvasToTempFilePath({\n              x: (f.x * v) / p,\n              y: (f.y * v) / p,\n              width: I,\n              height: y,\n              destWidth: I,\n              destHeight: y,\n              canvasId: \"cutCanvas\",\n              fileType: \"png\",\n              quality: 1,\n              success: function (s) {\n                (e[o] = s.tempFilePath),\n                  (o += 1) >= n.length\n                    ? ((a.cutPhotos = e), a.drawMocard())\n                    : t(a, e, o);\n              },\n            });\n          });\n      })(this, [], 0);\n    },\n    scroll(t) {\n      this.scrollInfo[t.currentTarget.id].x = t.detail.scrollLeft;\n      this.scrollInfo[t.currentTarget.id].y = t.detail.scrollTop;\n    },\n    tapPhoto(t) {\n      var a = parseInt(t.currentTarget.id);\n      this.changeIndex = a;\n      this.showChangeButton = !this.showChangeButton;\n    },\n    isTouchInLayout(t, a) {\n      var e = this.scrollTop,\n        o = h * t.pageX,\n        s = h * (t.pageY + e);\n      return (\n        o > a.x + 65 &&\n        o < a.x + a.width + 65 &&\n        s > a.y + 65 &&\n        s < a.y + a.height + 65\n      );\n    },\n    drawMocard() {\n      this.cutPhotos, this.card.layouts;\n      var t = this.card.width,\n        a = this.card.height,\n        e = wx.createCanvasContext(\"cutCanvas\"),\n        o = {};\n      (o = this.isDark ? this.darkStyle : this.lightStyle),\n        e.setFillStyle(o.bgColor),\n        e.fillRect(0, 0, t, a),\n        \"charu\" == this.card.type || \"dibu\" == this.card.type\n          ? this.drawUserInfoWithCharu(this, e)\n          : this.drawUserInfoWithNeiqian(this, e),\n        this.drawPhotos(this, e);\n    },\n    drawUserInfoWithCharu(t, a) {\n      var e = t.userInfo;\n      if (!t.isMoveQrcode)\n        var o = 30,\n          s = t.card.userInfo.height / 2 + t.card.userInfo.y + 10;\n      if (t.isMoveQrcode)\n        (o = t.card.userInfo.width / 2),\n          (s = t.card.userInfo.height / 2 + t.card.userInfo.y - 10);\n      var i = (t.isDark ? t.darkStyle : t.lightStyle).propertyColor;\n      a.setFontSize(32),\n        a.setFillStyle(i),\n        t.isMoveQrcode && (a.textAlign = \"center\"),\n        a.fillText(e.nickname, o, s);\n      if (\n        (t.isMoveQrcode ||\n          ((s = s - 22 + 2),\n          e.is_bwh || (s += 15),\n          (o += 140),\n          a.setFontSize(18),\n          a.setFillStyle(i),\n          a.fillText(\n            \"身高 \" +\n              e.height +\n              \"cm   体重 \" +\n              e.weight +\n              \"kg   鞋码 \" +\n              e.shoe,\n            o,\n            s\n          ),\n          e.is_bwh &&\n            ((s += 28),\n            a.setFontSize(18),\n            a.setFillStyle(i),\n            a.fillText(\n              \"胸围 \" + e.bwh_b + \"   腰围 \" + e.bwh_w + \"   臀围 \" + e.bwh_h,\n              o,\n              s\n            ))),\n        t.isMoveQrcode)\n      ) {\n        (s = s + 22 + 16),\n          (o = t.card.userInfo.width / 2),\n          a.setFontSize(18),\n          a.setFillStyle(i);\n        var r =\n            \"身高 \" +\n            e.height +\n            \"cm   体重 \" +\n            e.weight +\n            \"kg   鞋码 \" +\n            e.shoe,\n          h = \"\";\n        e.is_bwh &&\n          (h =\n            \"   胸围 \" + e.bwh_b + \"   腰围 \" + e.bwh_w + \"   臀围 \" + e.bwh_h),\n          (a.textAlign = \"center\"),\n          a.fillText(r + h, o, s);\n      }\n      if (!t.isMoveQrcode) {\n        (o = t.card.userInfo.width - 100 - 30),\n          (s = t.card.userInfo.height / 2 + t.card.userInfo.y - 50);\n        a.drawImage(\n          t.isDark ? t.logoAvartar : t.blackLogoAvartar,\n          o,\n          s,\n          100,\n          100\n        );\n      }\n    },\n    drawUserInfoWithNeiqian(t, a) {\n      var e = t.userInfo,\n        o =\n          (t.card.userInfo.x,\n          t.card.userInfo.Y,\n          t.card.userInfo.width,\n          t.card.userInfo.height,\n          70 + t.card.userInfo.y),\n        s = 0.5 * t.card.userInfo.width;\n      t.isMoveQrcode && (o += 65), e.is_bwh || (o += 15);\n      var i = (t.isDark ? t.darkStyle : t.lightStyle).propertyColor;\n      a.setFontSize(32),\n        a.setFillStyle(i),\n        a.setTextAlign(\"center\"),\n        a.fillText(e.nickname, s, o);\n      if (\n        ((o += 52),\n        a.setFontSize(18),\n        a.setFillStyle(i),\n        a.fillText(\n          \"身高 \" + e.height + \"cm   体重 \" + e.weight + \"kg   鞋码 \" + e.shoe,\n          s,\n          o\n        ),\n        e.is_bwh &&\n          ((o += 28),\n          a.setFontSize(18),\n          a.setFillStyle(i),\n          a.fillText(\n            \"胸围 \" + e.bwh_b + \"   腰围 \" + e.bwh_w + \"   臀围 \" + e.bwh_h,\n            s,\n            o\n          )),\n        !t.isMoveQrcode)\n      ) {\n        (s = 0.5 * (t.card.userInfo.width - 100)), (o += 47);\n        a.drawImage(\n          t.isDark ? t.logoAvartar : t.blackLogoAvartar,\n          s,\n          o,\n          100,\n          100\n        );\n      }\n    },\n    drawPhotos(t, a) {\n      this.drawPhotosContent(this, 0, a);\n    },\n    drawPhotosContent(t, a, o) {\n      var s = t.cutPhotos,\n        i = t.card.layouts,\n        r = s[a],\n        h = i[a],\n        d = h.x + 2,\n        n = h.y + 2,\n        c = h.width - 4,\n        g = h.height - 4;\n      if ((o.drawImage(r, d, n, c, g), (a += 1) == s.length)) {\n        var f = t.card.width,\n          w = t.card.height,\n          v = \"android\" == device.platform,\n          p = 2;\n        v && t.photos.length > 10 && (p = 2.5),\n          o.draw(!1, function (a) {\n            \"drawCanvas:ok\" == a.errMsg &&\n              wx.canvasToTempFilePath({\n                x: 0,\n                y: 0,\n                width: f,\n                height: w,\n                destWidth: f * p,\n                destHeight: w * p,\n                canvasId: \"cutCanvas\",\n                fileType: \"png\",\n                quality: 1,\n                success: function (a) {\n                  var o = t.card.cardId,\n                    s = t.card.name;\n                  !(function (t, a, o, s) {\n                    if (a.isposting) return;\n                    a.isposting = !0;\n                    var i = 1;\n                    a.isMoveQrcode && (i = 0);\n                    var r = {\n                      sub_user_id: a.userInfo.sub_user_id,\n                      has_qrcode: i,\n                      template_id: o,\n                      template_name: s,\n                    };\n                    wx.setStorageSync(\"successImgSrc\", t);\n                    openPage(\n                      \"/packageMoka/pages/moka/makesuccess/index?isVertical=1&has_qrcode=\" +\n                        i\n                    );\n                    wx.hideLoading();\n                  })(a.tempFilePath, t, o, s);\n                },\n                fail: function (t) {\n                  wx.hideToast(),\n                    wx.showModal({\n                      title: \"模卡保存失败\",\n                      showCancel: false,\n                    });\n                },\n              });\n          });\n      } else this.drawPhotosContent(t, a, o);\n    },\n    async qrcode(params) {\n      try {\n        let res = await qrcode(params);\n        this.moka_code = res.data.data;\n        this.cutAvartar();\n      } catch (error) {}\n    },\n  },\n  onLoad: function (options) {\n    let mokaIndex = moka.getIndexByCardId(\"1002010701\");\n    this.card = moka.layouts[mokaIndex];\n    this.photos = [\n      require(\"../../../../assets/images/lanmao1.jpg\"),\n      require(\"../../../../assets/images/cheatPrevention.png\"),\n      require(\"../../../../assets/images/lanmao1.jpg\"),\n      require(\"../../../../assets/images/lanmao2.jpg\"),\n      require(\"../../../../assets/images/lanmao3.jpg\"),\n      require(\"../../../../assets/images/lanmao2.jpg\"),\n      require(\"../../../../assets/images/lanmao3.jpg\"),\n    ];\n    this.userInfo = {\n      avatar:\n        \"https://yuepai-oss.qubeitech.com/avatar/111111/2f6e9fa5-0353-11ee-8f34-812b5b24112e-qa60.jpg\",\n      nickname: \"nickname\",\n      province: \"province\",\n      city: \"city\",\n      area: \"area\",\n      province_name: \"province_name\",\n      city_name: \"city_name\",\n      area_name: \"area_name\",\n      sex: 0,\n      birthday: \"1994-08-29\",\n      height: 100,\n      weight: 200,\n      bwh_b: 38,\n      bwh_w: 39,\n      bwh_h: 40,\n      shoe: 41,\n      is_bwh: true,\n      is_birthday: true,\n    };\n    var l = [];\n    for (var r = 0; r < this.photos.length; r++) {\n      l.push({\n        x: 0,\n        y: 0,\n        scale: 1,\n      });\n    }\n    this.scrollInfo = l;\n    this.qrcode({\n      source: \"homepage\",\n    });\n    this.getPhotoInfos();\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n","var render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"view\", { staticClass: \"makecardv\" }, [\n    _c(\n      \"view\",\n      { staticClass: \"container\" },\n      [\n        _c(\n          \"scroll-view\",\n          {\n            class:\n              \"main-scrollview \" +\n              (_vm.isDark ? \"main-scrollview-black\" : \"main-scrollview-white\"),\n            style: {\n              height:\n                _vm.screenH - 160 > _vm.card.height\n                  ? _vm.card.height + 12\n                  : _vm.screenH - 160 + \"rpx\",\n              width: _vm.card.width + 12 + \"rpx\",\n            },\n            attrs: { scrollTop: _vm.scrollTop, scrollY: _vm.allowScroll },\n          },\n          [\n            _c(\n              \"movable-area\",\n              {\n                staticClass: \"photos-container\",\n                style: {\n                  height: _vm.card.height + \"rpx\",\n                  width: _vm.card.width + \"rpx\",\n                  backgroundColor: _vm.isDark\n                    ? _vm.darkStyle.bgColor\n                    : _vm.lightStyle.bgColor,\n                },\n              },\n              [\n                _c(\n                  \"movable-view\",\n                  {\n                    staticClass: \"userinfo\",\n                    style: {\n                      height: _vm.card.userInfo.height + \"rpx\",\n                      width: _vm.card.userInfo.width + \"rpx\",\n                    },\n                    attrs: {\n                      disabled: true,\n                      outOfBounds: true,\n                      scale: false,\n                      x: _vm.card.userInfo.x + \"rpx\",\n                      y: _vm.card.userInfo.y + \"rpx\",\n                    },\n                  },\n                  [\n                    _vm.card.type == \"charu\" || _vm.card.type == \"dibu\"\n                      ? _c(\n                          \"view\",\n                          {\n                            staticClass: \"userinfo-container\",\n                            style: {\n                              height: _vm.card.userInfo.height + \"rpx\",\n                              width: _vm.card.userInfo.width + \"rpx\",\n                            },\n                          },\n                          [\n                            !_vm.isMoveQrcode\n                              ? _c(\n                                  \"view\",\n                                  { staticClass: \"ub userinfo-info\" },\n                                  [\n                                    _c(\n                                      \"view\",\n                                      {\n                                        staticClass: \"name\",\n                                        style: {\n                                          color: _vm.isDark\n                                            ? _vm.darkStyle.nameColor\n                                            : _vm.lightStyle.nameColor,\n                                        },\n                                      },\n                                      [_vm._v(_vm._s(_vm.userInfo.nickname))]\n                                    ),\n                                    _c(\n                                      \"view\",\n                                      { staticClass: \"text-info ub-f1\" },\n                                      [\n                                        !_vm.userInfo.is_bwh\n                                          ? _c(\"view\", {\n                                              staticClass: \"charu_move_bwh\",\n                                            })\n                                          : _vm._e(),\n                                        _c(\n                                          \"view\",\n                                          { staticClass: \"text-line\" },\n                                          [\n                                            _c(\n                                              \"text\",\n                                              {\n                                                staticClass: \"property\",\n                                                style: {\n                                                  color: _vm.isDark\n                                                    ? _vm.darkStyle\n                                                        .propertyColor\n                                                    : _vm.lightStyle\n                                                        .propertyColor,\n                                                },\n                                              },\n                                              [\n                                                _vm._v(\n                                                  \"身高 \" +\n                                                    _vm._s(\n                                                      _vm.userInfo.height\n                                                    ) +\n                                                    \"cm\"\n                                                ),\n                                              ]\n                                            ),\n                                            _c(\n                                              \"text\",\n                                              {\n                                                staticClass: \"property\",\n                                                style: {\n                                                  color: _vm.isDark\n                                                    ? _vm.darkStyle\n                                                        .propertyColor\n                                                    : _vm.lightStyle\n                                                        .propertyColor,\n                                                },\n                                              },\n                                              [\n                                                _vm._v(\n                                                  \"体重 \" +\n                                                    _vm._s(\n                                                      _vm.userInfo.weight\n                                                    ) +\n                                                    \"kg\"\n                                                ),\n                                              ]\n                                            ),\n                                            _c(\n                                              \"text\",\n                                              {\n                                                staticClass: \"property\",\n                                                style: {\n                                                  color: _vm.isDark\n                                                    ? _vm.darkStyle\n                                                        .propertyColor\n                                                    : _vm.lightStyle\n                                                        .propertyColor,\n                                                },\n                                              },\n                                              [\n                                                _vm._v(\n                                                  \"鞋码 \" +\n                                                    _vm._s(_vm.userInfo.shoe)\n                                                ),\n                                              ]\n                                            ),\n                                          ]\n                                        ),\n                                        _vm.userInfo.is_bwh\n                                          ? _c(\n                                              \"view\",\n                                              { staticClass: \"text-line\" },\n                                              [\n                                                _c(\n                                                  \"text\",\n                                                  {\n                                                    staticClass: \"property\",\n                                                    style: {\n                                                      color: _vm.isDark\n                                                        ? _vm.darkStyle\n                                                            .propertyColor\n                                                        : _vm.lightStyle\n                                                            .propertyColor,\n                                                    },\n                                                  },\n                                                  [\n                                                    _vm._v(\n                                                      \"胸围 \" +\n                                                        _vm._s(\n                                                          _vm.userInfo.bwh_b\n                                                        )\n                                                    ),\n                                                  ]\n                                                ),\n                                                _c(\n                                                  \"text\",\n                                                  {\n                                                    staticClass: \"property\",\n                                                    style: {\n                                                      color: _vm.isDark\n                                                        ? _vm.darkStyle\n                                                            .propertyColor\n                                                        : _vm.lightStyle\n                                                            .propertyColor,\n                                                    },\n                                                  },\n                                                  [\n                                                    _vm._v(\n                                                      \"腰围 \" +\n                                                        _vm._s(\n                                                          _vm.userInfo.bwh_w\n                                                        )\n                                                    ),\n                                                  ]\n                                                ),\n                                                _c(\n                                                  \"text\",\n                                                  {\n                                                    staticClass: \"property\",\n                                                    style: {\n                                                      color: _vm.isDark\n                                                        ? _vm.darkStyle\n                                                            .propertyColor\n                                                        : _vm.lightStyle\n                                                            .propertyColor,\n                                                    },\n                                                  },\n                                                  [\n                                                    _vm._v(\n                                                      \"臀围 \" +\n                                                        _vm._s(\n                                                          _vm.userInfo.bwh_h\n                                                        )\n                                                    ),\n                                                  ]\n                                                ),\n                                              ]\n                                            )\n                                          : _vm._e(),\n                                      ]\n                                    ),\n                                    _c(\"view\", { staticClass: \"logoavatar\" }, [\n                                      _c(\"image\", {\n                                        attrs: {\n                                          mode: \"aspectFit\",\n                                          src: _vm.logoAvartar,\n                                        },\n                                      }),\n                                    ]),\n                                  ]\n                                )\n                              : _c(\n                                  \"view\",\n                                  { staticClass: \"userinfo-info-moveqr\" },\n                                  [\n                                    _c(\n                                      \"view\",\n                                      {\n                                        staticClass: \"name-moveqr\",\n                                        style: {\n                                          color: _vm.isDark\n                                            ? _vm.darkStyle.nameColor\n                                            : _vm.lightStyle.nameColor,\n                                        },\n                                      },\n                                      [_vm._v(_vm._s(_vm.userInfo.nickname))]\n                                    ),\n                                    _c(\n                                      \"view\",\n                                      { staticClass: \"text-info-moveqr\" },\n                                      [\n                                        _c(\n                                          \"view\",\n                                          { staticClass: \"text-line\" },\n                                          [\n                                            _c(\n                                              \"text\",\n                                              {\n                                                staticClass: \"property\",\n                                                style: {\n                                                  color: _vm.isDark\n                                                    ? _vm.darkStyle\n                                                        .propertyColor\n                                                    : _vm.lightStyle\n                                                        .propertyColor,\n                                                },\n                                              },\n                                              [\n                                                _vm._v(\n                                                  \"身高 \" +\n                                                    _vm._s(\n                                                      _vm.userInfo.height\n                                                    ) +\n                                                    \"cm\"\n                                                ),\n                                              ]\n                                            ),\n                                            _c(\n                                              \"text\",\n                                              {\n                                                staticClass: \"property\",\n                                                style: {\n                                                  color: _vm.isDark\n                                                    ? _vm.darkStyle\n                                                        .propertyColor\n                                                    : _vm.lightStyle\n                                                        .propertyColor,\n                                                },\n                                              },\n                                              [\n                                                _vm._v(\n                                                  \"体重 \" +\n                                                    _vm._s(\n                                                      _vm.userInfo.weight\n                                                    ) +\n                                                    \"kg\"\n                                                ),\n                                              ]\n                                            ),\n                                            _c(\n                                              \"text\",\n                                              {\n                                                staticClass: \"property\",\n                                                style: {\n                                                  color: _vm.isDark\n                                                    ? _vm.darkStyle\n                                                        .propertyColor\n                                                    : _vm.lightStyle\n                                                        .propertyColor,\n                                                },\n                                              },\n                                              [\n                                                _vm._v(\n                                                  \"鞋码 \" +\n                                                    _vm._s(_vm.userInfo.shoe)\n                                                ),\n                                              ]\n                                            ),\n                                            _vm.userInfo.is_bwh\n                                              ? _c(\"block\", [\n                                                  _c(\n                                                    \"text\",\n                                                    {\n                                                      staticClass: \"property\",\n                                                      style: {\n                                                        color: _vm.isDark\n                                                          ? _vm.darkStyle\n                                                              .propertyColor\n                                                          : _vm.lightStyle\n                                                              .propertyColor,\n                                                      },\n                                                    },\n                                                    [\n                                                      _vm._v(\n                                                        \"胸围 \" +\n                                                          _vm._s(\n                                                            _vm.userInfo.bwh_b\n                                                          )\n                                                      ),\n                                                    ]\n                                                  ),\n                                                  _c(\n                                                    \"text\",\n                                                    {\n                                                      staticClass: \"property\",\n                                                      style: {\n                                                        color: _vm.isDark\n                                                          ? _vm.darkStyle\n                                                              .propertyColor\n                                                          : _vm.lightStyle\n                                                              .propertyColor,\n                                                      },\n                                                    },\n                                                    [\n                                                      _vm._v(\n                                                        \"腰围 \" +\n                                                          _vm._s(\n                                                            _vm.userInfo.bwh_w\n                                                          )\n                                                      ),\n                                                    ]\n                                                  ),\n                                                  _c(\n                                                    \"text\",\n                                                    {\n                                                      staticClass: \"property\",\n                                                      style: {\n                                                        color: _vm.isDark\n                                                          ? _vm.darkStyle\n                                                              .propertyColor\n                                                          : _vm.lightStyle\n                                                              .propertyColor,\n                                                      },\n                                                    },\n                                                    [\n                                                      _vm._v(\n                                                        \"臀围 \" +\n                                                          _vm._s(\n                                                            _vm.userInfo.bwh_h\n                                                          )\n                                                      ),\n                                                    ]\n                                                  ),\n                                                ])\n                                              : _vm._e(),\n                                          ],\n                                          1\n                                        ),\n                                      ]\n                                    ),\n                                  ]\n                                ),\n                          ]\n                        )\n                      : _vm._e(),\n                    _vm.card.type == \"cebian\"\n                      ? _c(\n                          \"view\",\n                          {\n                            staticClass: \"userinfo-container\",\n                            style: {\n                              height: _vm.card.userInfo.height + \"rpx\",\n                              width: _vm.card.userInfo.width + \"rpx\",\n                            },\n                          },\n                          [\n                            _c(\n                              \"view\",\n                              { staticClass: \"userinfo-info-neiqian\" },\n                              [\n                                _vm.isMoveQrcode\n                                  ? _c(\"view\", {\n                                      staticClass: \"neiqian_move_qrcode\",\n                                    })\n                                  : _vm._e(),\n                                !_vm.userInfo.is_bwh\n                                  ? _c(\"view\", {\n                                      staticClass: \"neiqian_move_bwh\",\n                                    })\n                                  : _vm._e(),\n                                _c(\n                                  \"text\",\n                                  {\n                                    staticClass: \"name-neiqian\",\n                                    style: {\n                                      color: _vm.isDark\n                                        ? _vm.darkStyle.nameColor\n                                        : _vm.lightStyle.nameColor,\n                                    },\n                                  },\n                                  [_vm._v(_vm._s(_vm.userInfo.nickname))]\n                                ),\n                                _c(\n                                  \"view\",\n                                  { staticClass: \"text-info-neiqian\" },\n                                  [\n                                    _c(\"view\", { staticClass: \"text-line\" }, [\n                                      _c(\n                                        \"text\",\n                                        {\n                                          staticClass: \"property\",\n                                          style: {\n                                            color: _vm.isDark\n                                              ? _vm.darkStyle.propertyColor\n                                              : _vm.lightStyle.propertyColor,\n                                          },\n                                        },\n                                        [\n                                          _vm._v(\n                                            \"身高 \" +\n                                              _vm._s(_vm.userInfo.height) +\n                                              \"cm\"\n                                          ),\n                                        ]\n                                      ),\n                                      _c(\n                                        \"text\",\n                                        {\n                                          staticClass: \"property\",\n                                          style: {\n                                            color: _vm.isDark\n                                              ? _vm.darkStyle.propertyColor\n                                              : _vm.lightStyle.propertyColor,\n                                          },\n                                        },\n                                        [\n                                          _vm._v(\n                                            \"体重 \" +\n                                              _vm._s(_vm.userInfo.weight) +\n                                              \"kg\"\n                                          ),\n                                        ]\n                                      ),\n                                      _c(\n                                        \"text\",\n                                        {\n                                          staticClass: \"property\",\n                                          style: {\n                                            color: _vm.isDark\n                                              ? _vm.darkStyle.propertyColor\n                                              : _vm.lightStyle.propertyColor,\n                                          },\n                                        },\n                                        [\n                                          _vm._v(\n                                            \"鞋码 \" + _vm._s(_vm.userInfo.shoe)\n                                          ),\n                                        ]\n                                      ),\n                                    ]),\n                                    _vm.userInfo.is_bwh\n                                      ? _c(\n                                          \"view\",\n                                          { staticClass: \"text-line\" },\n                                          [\n                                            _c(\n                                              \"text\",\n                                              {\n                                                staticClass: \"property\",\n                                                style: {\n                                                  color: _vm.isDark\n                                                    ? _vm.darkStyle\n                                                        .propertyColor\n                                                    : _vm.lightStyle\n                                                        .propertyColor,\n                                                },\n                                              },\n                                              [\n                                                _vm._v(\n                                                  \"胸围 \" +\n                                                    _vm._s(_vm.userInfo.bwh_b)\n                                                ),\n                                              ]\n                                            ),\n                                            _c(\n                                              \"text\",\n                                              {\n                                                staticClass: \"property\",\n                                                style: {\n                                                  color: _vm.isDark\n                                                    ? _vm.darkStyle\n                                                        .propertyColor\n                                                    : _vm.lightStyle\n                                                        .propertyColor,\n                                                },\n                                              },\n                                              [\n                                                _vm._v(\n                                                  \"腰围 \" +\n                                                    _vm._s(_vm.userInfo.bwh_w)\n                                                ),\n                                              ]\n                                            ),\n                                            _c(\n                                              \"text\",\n                                              {\n                                                staticClass: \"property\",\n                                                style: {\n                                                  color: _vm.isDark\n                                                    ? _vm.darkStyle\n                                                        .propertyColor\n                                                    : _vm.lightStyle\n                                                        .propertyColor,\n                                                },\n                                              },\n                                              [\n                                                _vm._v(\n                                                  \"臀围 \" +\n                                                    _vm._s(_vm.userInfo.bwh_h)\n                                                ),\n                                              ]\n                                            ),\n                                          ]\n                                        )\n                                      : _vm._e(),\n                                  ]\n                                ),\n                                !_vm.isMoveQrcode\n                                  ? _c(\"image\", {\n                                      attrs: {\n                                        mode: \"aspectFit\",\n                                        src: _vm.logoAvartar,\n                                      },\n                                    })\n                                  : _vm._e(),\n                              ]\n                            ),\n                          ]\n                        )\n                      : _vm._e(),\n                  ]\n                ),\n                _vm._l(_vm.card.layouts, function (item, index) {\n                  return _c(\n                    \"movable-view\",\n                    {\n                      key: index,\n                      staticClass: \"layout\",\n                      style: {\n                        height: item.height + \"rpx\",\n                        width: item.width + \"rpx\",\n                      },\n                      attrs: {\n                        disabled: true,\n                        id: item.id,\n                        outOfBounds: true,\n                        scale: false,\n                        x: item.x + \"rpx\",\n                        y: item.y + \"rpx\",\n                      },\n                    },\n                    [\n                      index < _vm.photoInfos.length\n                        ? _c(\n                            \"scroll-view\",\n                            {\n                              staticClass: \"photo-container\",\n                              style: {\n                                height: item.height + \"rpx\",\n                                width: item.width + \"rpx\",\n                                border:\n                                  \"1rpx solid \" +\n                                  (_vm.isDark\n                                    ? _vm.darkStyle.bgColor\n                                    : _vm.lightStyle.bgColor),\n                              },\n                              attrs: {\n                                id: item.id,\n                                scrollX:\n                                  _vm.photoInfos[index].scrollX ||\n                                  _vm.scrollInfo[index].scale != 1,\n                                scrollY:\n                                  _vm.photoInfos[index].scrollY ||\n                                  _vm.scrollInfo[index].scale != 1,\n                              },\n                              on: {\n                                scroll: _vm.scroll,\n                                tap: _vm.tapPhoto,\n                                touchend: _vm.touchEnd,\n                                touchmove: _vm.touchMove,\n                                touchstart: _vm.touchStart,\n                              },\n                            },\n                            [\n                              _c(\"image\", {\n                                staticClass: \"rotate\",\n                                style: {\n                                  height:\n                                    _vm.photoInfos[index].rotateH *\n                                      (_vm.scrollInfo[index].scale || 1) +\n                                    \"rpx\",\n                                  width:\n                                    _vm.photoInfos[index].rotateW *\n                                      (_vm.scrollInfo[index].scale || 1) +\n                                    \"rpx\",\n                                  verticalAlign: \"middle\",\n                                },\n                                attrs: { src: _vm.photos[index] },\n                              }),\n                            ]\n                          )\n                        : _vm._e(),\n                      _c(\n                        \"view\",\n                        {\n                          directives: [\n                            {\n                              name: \"show\",\n                              rawName: \"v-show\",\n                              value:\n                                _vm.showChangeButton &&\n                                index == _vm.changeIndex,\n                              expression:\n                                \"showChangeButton && index == changeIndex\",\n                            },\n                          ],\n                          staticClass: \"change\",\n                          style: {\n                            top: (item.height - 100) * 0.5 + \"rpx\",\n                            right: (item.width - 100) * 0.5 + \"rpx\",\n                          },\n                          attrs: { id: item.id },\n                          on: { tap: _vm.changePhoto },\n                        },\n                        [_vm._v(\"替换\")]\n                      ),\n                    ],\n                    1\n                  )\n                }),\n              ],\n              2\n            ),\n          ],\n          1\n        ),\n        _c(\n          \"view\",\n          {\n            directives: [\n              {\n                name: \"show\",\n                rawName: \"v-show\",\n                value: _vm.card.height >= 1040,\n                expression: \"card.height >= 1040\",\n              },\n            ],\n            staticClass: \"slider\",\n            style: { top: (_vm.screenH - 458) * 0.5 + \"rpx\" },\n            on: { touchstart: _vm.touchStart },\n          },\n          [\n            _c(\n              \"movable-area\",\n              { staticClass: \"slider-bg\" },\n              [\n                _c(\n                  \"movable-view\",\n                  {\n                    staticClass: \"slider-btn\",\n                    attrs: { direction: \"all\", scale: false, x: 0, y: 0 },\n                    on: { change: _vm.sliderChange },\n                  },\n                  [\n                    _c(\"image\", {\n                      attrs: {\n                        src: require(\"../../../../assets/images/moka/makecard/slider_v.png\"),\n                      },\n                    }),\n                  ]\n                ),\n              ],\n              1\n            ),\n          ],\n          1\n        ),\n        _c(\n          \"view\",\n          { class: \"finish ub \" + (_vm.isIphoneX ? \"fix-iphonex-button\" : \"\") },\n          [\n            _c(\n              \"view\",\n              { staticClass: \"switch switch_bwh\", on: { tap: _vm.switchBWH } },\n              [\n                _vm.userInfo.is_bwh\n                  ? _c(\"image\", {\n                      staticClass: \"icon_check\",\n                      attrs: {\n                        src: require(\"../../../../assets/images/moka/makecard/bwh1.png\"),\n                      },\n                    })\n                  : _c(\"image\", {\n                      staticClass: \"icon_check\",\n                      attrs: {\n                        src: require(\"../../../../assets/images/moka/makecard/bwh0.png\"),\n                      },\n                    }),\n              ]\n            ),\n            !_vm.userInfo.sub_user_id\n              ? _c(\n                  \"view\",\n                  {\n                    staticClass: \"switch switch_qrcode\",\n                    on: { tap: _vm.switchQrcode },\n                  },\n                  [\n                    _vm.isMoveQrcode\n                      ? _c(\"image\", {\n                          staticClass: \"icon_check_qrcode\",\n                          attrs: {\n                            src: require(\"../../../../assets/images/moka/makecard/qrcode0.png\"),\n                          },\n                        })\n                      : _c(\"image\", {\n                          staticClass: \"icon_check_qrcode\",\n                          attrs: {\n                            src: require(\"../../../../assets/images/moka/makecard/qrcode1.png\"),\n                          },\n                        }),\n                  ]\n                )\n              : _vm._e(),\n            _c(\n              \"view\",\n              { staticClass: \"switch switch_bg\", on: { tap: _vm.switchBg } },\n              [\n                _c(\"image\", {\n                  staticClass: \"icon_switchbg\",\n                  attrs: {\n                    src: require(\"../../../../assets/images/moka/makecard/switchbg.png\"),\n                  },\n                }),\n              ]\n            ),\n            _c(\"view\", { staticClass: \"ub-f1\" }),\n            _c(\"view\", { staticClass: \"switch\" }, [\n              _c(\"view\", { staticClass: \"make\", on: { tap: _vm.make } }, [\n                _vm._v(\"制作\"),\n              ]),\n            ]),\n          ]\n        ),\n      ],\n      1\n    ),\n    _c(\n      \"view\",\n      { staticStyle: { width: \"0px\", height: \"0px\", overflow: \"hidden\" } },\n      [\n        _c(\"canvas\", {\n          style: {\n            width: _vm.cutCanvasWH + \"rpx\",\n            height: _vm.cutCanvasWH + \"rpx\",\n          },\n          attrs: { canvasId: \"cutCanvas\", hidden: _vm.canvasHidden },\n        }),\n      ]\n    ),\n    _c(\n      \"view\",\n      { staticStyle: { width: \"0px\", height: \"0px\", overflow: \"hidden\" } },\n      [\n        _c(\"canvas\", {\n          staticStyle: { width: \"800px\", height: \"800px\" },\n          attrs: { canvasId: \"firstCanvas\", hidden: _vm.canvasHidden },\n        }),\n      ]\n    ),\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","// extracted by mini-css-extract-plugin","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"../../../../../node_modules/@tarojs/taro-loader/lib/raw.js!./index.vue\"\nvar config = {};\n\n\nvar inst = Page(createPageConfig(component, 'packageMoka/pages/moka/makecardv/index', {root:{cn:[]}}, config || {}))\n\n\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=template&id=ba8ac00e&scoped=true&\""],"mappings":";;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC2YA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AADA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAvDA;AAyDA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AApBA;AAsBA;AACA;AACA;AApCA;AAsCA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAXA;AAaA;AACA;AACA;AAAA;AAEA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AAFA;AAIA;AArBA;AAuBA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AA5BA;AA8BA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAVA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAKA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAIA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AAKA;AAAA;AAAA;AAAA;AAAA;AAKA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AAfA;AAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAGA;AAMA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAIA;AAOA;AACA;AACA;AACA;AACA;AAEA;AAGA;AACA;AACA;AAGA;AA4BA;AAIA;AAAA;AAQA;AAKA;AACA;AAAA;AACA;AAEA;AAOA;AACA;AACA;AACA;AAAA;AAAA;AAQA;AACA;AACA;AACA;AAGA;AAoBA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAOA;AACA;AAAA;AAAA;AAAA;AAIA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AAIA;AACA;AACA;AACA;AACA;AAEA;AACA;AAFA;AAIA;AAtCA;AAwCA;AACA;AACA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAEA;AACA;AACA;AAAA;AACA;AALA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAjeA;AAmeA;AACA;AACA;AACA;AASA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnBA;AAqBA;AACA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AAAA;AACA;AACA;AADA;AAGA;AACA;AA9kBA;;;;;;;;;;;;;ACxaA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC3zBA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACPA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;;;A","sourceRoot":""}