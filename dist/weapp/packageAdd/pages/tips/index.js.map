{"version":3,"file":"packageAdd/pages/tips/index.js","sources":["webpack:///./src/packageAdd/pages/tips/index.vue?d275","webpack:///index.vue","webpack:///./src/packageAdd/pages/tips/index.vue?74c8","webpack:///._src_packageAdd_pages_tips_index.scss","webpack:///._src_packageAdd_pages_tips_index.vue","webpack:///./src/packageAdd/pages/tips/index.vue?8ddf","webpack:///./src/packageAdd/pages/tips/index.vue?c0e4"],"sourcesContent":["import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=b915a59e&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  \n}\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"b915a59e\",\n  \"2e687523\"\n  \n)\n\ncomponent.options.__file = \"src/packageAdd/pages/tips/index.vue\"\nexport default component.exports","<template>\n  <view class=\"tips\">\n    <view @tap=\"officialAccount\" class=\"toptip fl\" v-if=\"!is_follow_gzh\">\n      <image\n        class=\"toptip_icon\"\n        src=\"https://yuepai-oss.qubeitech.com/static/images/common/tongzhi3.png\"\n      ></image>\n      <view class=\"toptip_text fl-g1\">开启推送通知，及时接收约拍通知</view>\n      <view class=\"toptip_btn\">去开启</view>\n    </view>\n    <view class=\"tips-sucess\" v-if=\"type == 1\">\n      <image\n        class=\"tips-img\"\n        src=\"https://yuepai-oss.qubeitech.com/static/images/sucess.png\"\n      ></image>\n      <view class=\"tips-title\">发布成功</view>\n      <view>{{ msg }}</view>\n      <view class=\"subscribe-btn\" @tap=\"showSubscribe\"> 订阅通知 </view>\n      <view class=\"subscribe-box\">\n        <view class=\"subscribe-left\">\n          <image\n            src=\"https://yuepai-oss.qubeitech.com/static/images/wchat.jpg\"\n          ></image>\n        </view>\n        <view class=\"subscribe-ct\">\n          <view class=\"subscribe-title\">订阅微信通知</view>\n          <view class=\"subscribe-p\">及时获取报名进度提醒</view>\n        </view>\n        <view class=\"subscribe-rt\" @tap=\"nowSubscribe\">\n          <text>立即订阅</text>\n        </view>\n      </view>\n      <view class=\"tips-box-btns\">\n        <view class=\"tips-btn\" @tap=\"goback\">返回首页</view>\n        <view class=\"tips-btn\" @tap=\"continuePublish\">继续发布</view>\n      </view>\n    </view>\n    <view class=\"tips-fail\" v-else-if=\"type == 0\">\n      <image\n        class=\"tips-img\"\n        src=\"https://yuepai-oss.qubeitech.com/static/images/fail.png\"\n      ></image>\n      <view class=\"tips-title\">发布失败</view>\n      <view>{{ msg }}</view>\n      <view class=\"tips-btn\" @tap=\"goback\">返回</view>\n    </view>\n    <view class=\"tips-sucess\" v-else-if=\"type == 2\">\n      <image\n        class=\"tips-img\"\n        src=\"https://yuepai-oss.qubeitech.com/static/images/sucess.png\"\n      ></image>\n      <view class=\"tips-title\">报名成功</view>\n      <view>{{ msg }}</view>\n      <view class=\"subscribe-btn\" @tap=\"showSubscribe\"> 订阅通知 </view>\n      <view class=\"subscribe-box\">\n        <view class=\"subscribe-left\">\n          <image\n            src=\"https://yuepai-oss.qubeitech.com/static/images/wchat.jpg\"\n          ></image>\n        </view>\n        <view class=\"subscribe-ct\">\n          <view class=\"subscribe-title\">订阅微信通知</view>\n          <view class=\"subscribe-p\">及时获取报名进度提醒</view>\n        </view>\n        <view class=\"subscribe-rt\" @tap=\"nowSubscribe\">\n          <text>立即订阅</text>\n        </view>\n      </view>\n      <view class=\"tips-box-btns\">\n        <view class=\"tips-btn\" @tap=\"goback\">返回首页</view>\n        <view class=\"tips-btn\" @tap=\"continuePublish\">继续发布</view>\n      </view>\n    </view>\n    <view class=\"tips-fail\" v-else-if=\"type == 3\">\n      <image\n        class=\"tips-img\"\n        src=\"https://yuepai-oss.qubeitech.com/static/images/fail.png\"\n      ></image>\n      <view class=\"tips-title\">报名失败</view>\n      <view>{{ msg }}</view>\n      <view class=\"tips-btn\" @tap=\"goback\">返回</view>\n    </view>\n    <view class=\"modal-box\" v-if=\"visible\" @tap=\"cancel\">\n      <view class=\"modal-cotent\">\n        <view class=\"modal-title\">订阅通知</view>\n        <view class=\"subscribe-box\">\n          <view class=\"subscribe-left\">\n            <image\n              src=\"https://yuepai-oss.qubeitech.com/static/images/wchat.jpg\"\n            ></image>\n          </view>\n          <view class=\"subscribe-ct\">\n            <view class=\"subscribe-title\">订阅微信通知</view>\n            <view class=\"subscribe-p\">及时获取报名进度提醒</view>\n          </view>\n          <view class=\"subscribe-rt\" @tap.stop=\"nowSubscribe\">\n            <text>订阅通知</text>\n          </view>\n        </view>\n        <view class=\"official-account\">\n          <view class=\"official-account-txt\">扫码关注公众号，开启消息提醒</view>\n          <image\n            @tap.stop=\"officialAccount\"\n            class=\"official-account-qrcode\"\n            src=\"https://yuepai-oss.qubeitech.com/static/images/official-account-qrcode.jpg\"\n          ></image>\n        </view>\n        <view class=\"know\" @tap=\"cancel\">我知道了</view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script>\nimport \"./index.scss\";\nimport { checkFollow, subscribeEvent } from \"../../../api/index\";\nimport { errortip, openPage } from \"../../../utils/util\";\nexport default {\n  name: \"tips\",\n  data() {\n    return {\n      type: 1,\n      msg: \"\",\n      is_follow_gzh: 0,\n      visible: true,\n      template: [\n        // \"tEX27GKFotgdenR3XC5grlgpS79LudBKxvy7uBbsdcM\",\n        // \"sQXqKGSEacobxAx8r7RJP5_y5mm7g53v6htcEPWfsPQ\",\n      ],\n    };\n  },\n  methods: {\n    showSubscribe() {\n      this.visible = true;\n    },\n    nowSubscribe() {\n      wx.requestSubscribeMessage({\n        tmplIds: this.template,\n        success(res) {\n          errortip(\"订阅成功，继续订阅可获得多次提醒\");\n        },\n      });\n    },\n    cancel() {\n      this.visible = false;\n    },\n    officialAccount() {\n      openPage(\"/packageAdd/pages/user/follow/index\");\n    },\n    goback() {\n      // 跳转首页\n      wx.switchTab({\n        url: \"/pages/home/index\",\n        success: function (e) {\n          var page = getCurrentPages().pop();\n          if (page == undefined || page == null) return;\n          page.onLoad();\n        },\n      });\n    },\n    continuePublish() {\n      wx.navigateBack({\n        delta: 1,\n      });\n    },\n    officialAccount() {\n      openPage(\"/packageAdd/pages/user/follow/index\");\n    },\n    async checkFollow(params) {\n      try {\n        let res = await checkFollow(params);\n        this.is_follow_gzh = res.data.data.is_follow_gzh;\n      } catch (error) {}\n    },\n    async subscribeEvent(params) {\n      try {\n        let res = await subscribeEvent(params);\n        this.template = res.data.data.map((item) => {\n          return item.code;\n        });\n      } catch (error) {}\n    },\n  },\n  created() {\n    this.checkFollow(\"\");\n    this.subscribeEvent({\n      sub_type: \"publish\",\n    });\n  },\n  onLoad: function (options) {\n    if (options.type) {\n      this.type = options.type;\n    }\n    if (options.msg) {\n      this.msg = options.msg;\n    }\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n","var render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"view\", { staticClass: \"tips\" }, [\n    !_vm.is_follow_gzh\n      ? _c(\n          \"view\",\n          { staticClass: \"toptip fl\", on: { tap: _vm.officialAccount } },\n          [\n            _c(\"image\", {\n              staticClass: \"toptip_icon\",\n              attrs: {\n                src: \"https://yuepai-oss.qubeitech.com/static/images/common/tongzhi3.png\",\n              },\n            }),\n            _c(\"view\", { staticClass: \"toptip_text fl-g1\" }, [\n              _vm._v(\"开启推送通知，及时接收约拍通知\"),\n            ]),\n            _c(\"view\", { staticClass: \"toptip_btn\" }, [_vm._v(\"去开启\")]),\n          ]\n        )\n      : _vm._e(),\n    _vm.type == 1\n      ? _c(\"view\", { staticClass: \"tips-sucess\" }, [\n          _c(\"image\", {\n            staticClass: \"tips-img\",\n            attrs: {\n              src: \"https://yuepai-oss.qubeitech.com/static/images/sucess.png\",\n            },\n          }),\n          _c(\"view\", { staticClass: \"tips-title\" }, [_vm._v(\"发布成功\")]),\n          _c(\"view\", [_vm._v(_vm._s(_vm.msg))]),\n          _c(\n            \"view\",\n            { staticClass: \"subscribe-btn\", on: { tap: _vm.showSubscribe } },\n            [_vm._v(\" 订阅通知 \")]\n          ),\n          _c(\"view\", { staticClass: \"subscribe-box\" }, [\n            _c(\"view\", { staticClass: \"subscribe-left\" }, [\n              _c(\"image\", {\n                attrs: {\n                  src: \"https://yuepai-oss.qubeitech.com/static/images/wchat.jpg\",\n                },\n              }),\n            ]),\n            _c(\"view\", { staticClass: \"subscribe-ct\" }, [\n              _c(\"view\", { staticClass: \"subscribe-title\" }, [\n                _vm._v(\"订阅微信通知\"),\n              ]),\n              _c(\"view\", { staticClass: \"subscribe-p\" }, [\n                _vm._v(\"及时获取报名进度提醒\"),\n              ]),\n            ]),\n            _c(\n              \"view\",\n              { staticClass: \"subscribe-rt\", on: { tap: _vm.nowSubscribe } },\n              [_c(\"text\", [_vm._v(\"立即订阅\")])]\n            ),\n          ]),\n          _c(\"view\", { staticClass: \"tips-box-btns\" }, [\n            _c(\"view\", { staticClass: \"tips-btn\", on: { tap: _vm.goback } }, [\n              _vm._v(\"返回首页\"),\n            ]),\n            _c(\n              \"view\",\n              { staticClass: \"tips-btn\", on: { tap: _vm.continuePublish } },\n              [_vm._v(\"继续发布\")]\n            ),\n          ]),\n        ])\n      : _vm.type == 0\n      ? _c(\"view\", { staticClass: \"tips-fail\" }, [\n          _c(\"image\", {\n            staticClass: \"tips-img\",\n            attrs: {\n              src: \"https://yuepai-oss.qubeitech.com/static/images/fail.png\",\n            },\n          }),\n          _c(\"view\", { staticClass: \"tips-title\" }, [_vm._v(\"发布失败\")]),\n          _c(\"view\", [_vm._v(_vm._s(_vm.msg))]),\n          _c(\"view\", { staticClass: \"tips-btn\", on: { tap: _vm.goback } }, [\n            _vm._v(\"返回\"),\n          ]),\n        ])\n      : _vm.type == 2\n      ? _c(\"view\", { staticClass: \"tips-sucess\" }, [\n          _c(\"image\", {\n            staticClass: \"tips-img\",\n            attrs: {\n              src: \"https://yuepai-oss.qubeitech.com/static/images/sucess.png\",\n            },\n          }),\n          _c(\"view\", { staticClass: \"tips-title\" }, [_vm._v(\"报名成功\")]),\n          _c(\"view\", [_vm._v(_vm._s(_vm.msg))]),\n          _c(\n            \"view\",\n            { staticClass: \"subscribe-btn\", on: { tap: _vm.showSubscribe } },\n            [_vm._v(\" 订阅通知 \")]\n          ),\n          _c(\"view\", { staticClass: \"subscribe-box\" }, [\n            _c(\"view\", { staticClass: \"subscribe-left\" }, [\n              _c(\"image\", {\n                attrs: {\n                  src: \"https://yuepai-oss.qubeitech.com/static/images/wchat.jpg\",\n                },\n              }),\n            ]),\n            _c(\"view\", { staticClass: \"subscribe-ct\" }, [\n              _c(\"view\", { staticClass: \"subscribe-title\" }, [\n                _vm._v(\"订阅微信通知\"),\n              ]),\n              _c(\"view\", { staticClass: \"subscribe-p\" }, [\n                _vm._v(\"及时获取报名进度提醒\"),\n              ]),\n            ]),\n            _c(\n              \"view\",\n              { staticClass: \"subscribe-rt\", on: { tap: _vm.nowSubscribe } },\n              [_c(\"text\", [_vm._v(\"立即订阅\")])]\n            ),\n          ]),\n          _c(\"view\", { staticClass: \"tips-box-btns\" }, [\n            _c(\"view\", { staticClass: \"tips-btn\", on: { tap: _vm.goback } }, [\n              _vm._v(\"返回首页\"),\n            ]),\n            _c(\n              \"view\",\n              { staticClass: \"tips-btn\", on: { tap: _vm.continuePublish } },\n              [_vm._v(\"继续发布\")]\n            ),\n          ]),\n        ])\n      : _vm.type == 3\n      ? _c(\"view\", { staticClass: \"tips-fail\" }, [\n          _c(\"image\", {\n            staticClass: \"tips-img\",\n            attrs: {\n              src: \"https://yuepai-oss.qubeitech.com/static/images/fail.png\",\n            },\n          }),\n          _c(\"view\", { staticClass: \"tips-title\" }, [_vm._v(\"报名失败\")]),\n          _c(\"view\", [_vm._v(_vm._s(_vm.msg))]),\n          _c(\"view\", { staticClass: \"tips-btn\", on: { tap: _vm.goback } }, [\n            _vm._v(\"返回\"),\n          ]),\n        ])\n      : _vm._e(),\n    _vm.visible\n      ? _c(\"view\", { staticClass: \"modal-box\", on: { tap: _vm.cancel } }, [\n          _c(\"view\", { staticClass: \"modal-cotent\" }, [\n            _c(\"view\", { staticClass: \"modal-title\" }, [_vm._v(\"订阅通知\")]),\n            _c(\"view\", { staticClass: \"subscribe-box\" }, [\n              _c(\"view\", { staticClass: \"subscribe-left\" }, [\n                _c(\"image\", {\n                  attrs: {\n                    src: \"https://yuepai-oss.qubeitech.com/static/images/wchat.jpg\",\n                  },\n                }),\n              ]),\n              _c(\"view\", { staticClass: \"subscribe-ct\" }, [\n                _c(\"view\", { staticClass: \"subscribe-title\" }, [\n                  _vm._v(\"订阅微信通知\"),\n                ]),\n                _c(\"view\", { staticClass: \"subscribe-p\" }, [\n                  _vm._v(\"及时获取报名进度提醒\"),\n                ]),\n              ]),\n              _c(\n                \"view\",\n                {\n                  staticClass: \"subscribe-rt\",\n                  on: {\n                    tap: function ($event) {\n                      $event.stopPropagation()\n                      return _vm.nowSubscribe.apply(null, arguments)\n                    },\n                  },\n                },\n                [_c(\"text\", [_vm._v(\"订阅通知\")])]\n              ),\n            ]),\n            _c(\"view\", { staticClass: \"official-account\" }, [\n              _c(\"view\", { staticClass: \"official-account-txt\" }, [\n                _vm._v(\"扫码关注公众号，开启消息提醒\"),\n              ]),\n              _c(\"image\", {\n                staticClass: \"official-account-qrcode\",\n                attrs: {\n                  src: \"https://yuepai-oss.qubeitech.com/static/images/official-account-qrcode.jpg\",\n                },\n                on: {\n                  tap: function ($event) {\n                    $event.stopPropagation()\n                    return _vm.officialAccount.apply(null, arguments)\n                  },\n                },\n              }),\n            ]),\n            _c(\"view\", { staticClass: \"know\", on: { tap: _vm.cancel } }, [\n              _vm._v(\"我知道了\"),\n            ]),\n          ]),\n        ])\n      : _vm._e(),\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","// extracted by mini-css-extract-plugin","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"../../../../node_modules/@tarojs/taro-loader/lib/raw.js!./index.vue\"\nvar config = {};\n\n\nvar inst = Page(createPageConfig(component, 'packageAdd/pages/tips/index', {root:{cn:[]}}, config || {}))\n\n\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=template&id=b915a59e&scoped=true&\""],"mappings":";;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC4FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAFA;AALA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AACA;AACA;AADA;AAGA;AAjCA;AAmCA;AACA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAEA;AACA;AAHA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAEA;AACA;AACA;AACA;AALA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAEA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AA/EA;;;;;;;;;;;;;ACrHA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACjNA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACPA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;;;A","sourceRoot":""}