{"version":3,"file":"packageAdd/pages/user/editlabel/index.js","sources":["webpack:///./src/packageAdd/pages/user/editlabel/index.vue?f941","webpack:///index.vue","webpack:///./src/packageAdd/pages/user/editlabel/index.vue?9efb","webpack:///._src_packageAdd_pages_user_editlabel_index.scss","webpack:///._src_packageAdd_pages_user_editlabel_index.vue","webpack:///./src/packageAdd/pages/user/editlabel/index.vue?ab1e","webpack:///./src/packageAdd/pages/user/editlabel/index.vue?34d3"],"sourcesContent":["import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=b8ca5e42&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  \n}\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"b8ca5e42\",\n  \"eedb5b5e\"\n  \n)\n\ncomponent.options.__file = \"src/packageAdd/pages/user/editlabel/index.vue\"\nexport default component.exports","<template>\n  <view>\n    <view class=\"editlabel\">\n      <view class=\"editlabel-item\">\n        <view class=\"editlabel-title\">\n          身份标签\n          <text class=\"check-tips\">*</text>\n        </view>\n        <view class=\"tags\">\n          <text\n            @tap=\"select_tag(item)\"\n            class=\"tag_item\"\n            :class=\"item.ispick ? 'tag_itemed' : ''\"\n            v-for=\"(item, index) in identity_data\"\n            :key=\"index\"\n          >\n            {{ item.value }}\n          </text>\n        </view>\n      </view>\n      <view class=\"editlabel-item\">\n        <view class=\"editlabel-title\">\n          接单通告\n          <text class=\"check-tips\">*</text>\n        </view>\n        <view class=\"tags\">\n          <text\n            @tap=\"select_notice_tag(item)\"\n            class=\"tag_item\"\n            :class=\"item.ispick ? 'tag_itemed' : ''\"\n            v-for=\"(item, index) in notice_data\"\n            :key=\"index\"\n          >\n            {{ item.value }}\n          </text>\n        </view>\n      </view>\n      <view class=\"editlabel-item\">\n        <view class=\"editlabel-title\">\n          形象风格\n          <text class=\"check-tips\">*</text>\n        </view>\n        <view class=\"tags\">\n          <text\n            @tap=\"select_style_tag(item)\"\n            class=\"tag_item\"\n            :class=\"item.ispick ? 'tag_itemed' : ''\"\n            v-for=\"(item, index) in style_data\"\n            :key=\"index\"\n          >\n            {{ item.value }}\n          </text>\n        </view>\n      </view>\n    </view>\n    <cover-view\n      class=\"subbtn_bottom_block\"\n      :class=\"isIphoneX ? 'fix-iphonex-button' : ''\"\n    >\n      <cover-view class=\"subbtn_bottom\" @tap=\"sub\">\n        <button formType=\"submit\">保存</button>\n      </cover-view>\n    </cover-view>\n  </view>\n</template>\n\n<script>\nimport \"./index.scss\";\nimport { userSticker, subUserSticker } from \"../../../../api/index\";\nexport default {\n  name: \"editlabel\",\n  data() {\n    return {\n      isIphoneX: false,\n      identity: [],\n      identity_data: [],\n      notice: [],\n      notice_data: [],\n      style: [],\n      style_data: [],\n    };\n  },\n  methods: {\n    sub() {\n      if (!this.identity.length) {\n        errortip(\"请选择身份标签!\");\n        return;\n      }\n      if (!this.notice.length) {\n        errortip(\"请选择接单通告!\");\n        return;\n      }\n      if (!this.style.length) {\n        errortip(\"请选择形象风格!\");\n        return;\n      }\n      let mode_sticker = [];\n      let notice_sticker = [];\n      let style_sticker = [];\n      this.identity_data.map((item) => {\n        this.identity.map((identityItem) => {\n          if (item.value == identityItem) {\n            mode_sticker.push({\n              key: item.key,\n              value: item.value,\n            });\n          }\n        });\n      });\n      this.notice_data.map((item) => {\n        this.notice.map((identityItem) => {\n          if (item.value == identityItem) {\n            notice_sticker.push({\n              key: item.key,\n              value: item.value,\n            });\n          }\n        });\n      });\n      this.style_data.map((item) => {\n        this.style.map((identityItem) => {\n          if (item.value == identityItem) {\n            style_sticker.push({\n              key: item.key,\n              value: item.value,\n            });\n          }\n        });\n      });\n      let params = {\n        mode_sticker: mode_sticker,\n        notice_sticker: notice_sticker,\n        style_sticker: style_sticker,\n      };\n      this.subUserSticker(params);\n    },\n    select_tag(row) {\n      let result = this.identity.find((ele) => ele === row.value);\n      if (!result) {\n        this.identity.push(row.value);\n      } else {\n        const index = this.identity.findIndex((ele) => ele === row.value);\n        this.identity.splice(index, 1);\n      }\n      row.ispick = !row.ispick;\n    },\n    select_notice_tag(row) {\n      let result = this.notice.find((ele) => ele === row.value);\n      if (!result) {\n        this.notice.push(row.value);\n      } else {\n        const index = this.notice.findIndex((ele) => ele === row.value);\n        this.notice.splice(index, 1);\n      }\n      row.ispick = !row.ispick;\n    },\n    select_style_tag(row) {\n      let result = this.style.find((ele) => ele === row.value);\n      if (!result) {\n        this.style.push(row.value);\n      } else {\n        const index = this.style.findIndex((ele) => ele === row.value);\n        this.style.splice(index, 1);\n      }\n      row.ispick = !row.ispick;\n    },\n    async userSticker(params) {\n      try {\n        let res = await userSticker(params);\n        let arr = [];\n        let arr1 = [];\n        let arr2 = [];\n        res.data.data.all_sticker_list.map((item) => {\n          if (item.type == \"mode_sticker\") {\n            item.ispick = false;\n            arr.push(item);\n          }\n          if (item.type == \"notice_sticker\") {\n            item.ispick = false;\n            arr1.push(item);\n          }\n          if (item.type == \"style_sticker\") {\n            item.ispick = false;\n            arr2.push(item);\n          }\n        });\n        this.identity_data = arr;\n        this.notice_data = arr1;\n        this.style_data = arr2;\n        this.identity = res.data.data.cur_sticker_list.mode_sticker;\n        this.notice = res.data.data.cur_sticker_list.notice_sticker;\n        this.style = res.data.data.cur_sticker_list.style_sticker;\n        if (res.data.data.cur_sticker_list.mode_sticker.length) {\n          this.identity_data = this.identity_data.map((item) => {\n            item.ispick = false;\n            this.identity.map((identityItem) => {\n              if (item.value == identityItem) {\n                item.ispick = true;\n              }\n            });\n            return item;\n          });\n        }\n        if (res.data.data.cur_sticker_list.notice_sticker.length) {\n          this.notice_data = this.notice_data.map((item) => {\n            item.ispick = false;\n            this.notice.map((identityItem) => {\n              if (item.value == identityItem) {\n                item.ispick = true;\n              }\n            });\n            return item;\n          });\n        }\n        if (res.data.data.cur_sticker_list.style_sticker.length) {\n          this.style_data = this.style_data.map((item) => {\n            item.ispick = false;\n            this.style.map((identityItem) => {\n              if (item.value == identityItem) {\n                item.ispick = true;\n              }\n            });\n            return item;\n          });\n        }\n      } catch (error) {}\n    },\n    async subUserSticker(params) {\n      try {\n        let res = await subUserSticker(params);\n        wx.navigateBack({\n          delta: 1,\n        });\n      } catch (error) {}\n    },\n  },\n  created() {\n    this.isIphoneX = this.globalData.isIphoneX;\n    this.userSticker(\"\");\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n","var render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"view\",\n    [\n      _c(\"view\", { staticClass: \"editlabel\" }, [\n        _c(\"view\", { staticClass: \"editlabel-item\" }, [\n          _c(\"view\", { staticClass: \"editlabel-title\" }, [\n            _vm._v(\" 身份标签 \"),\n            _c(\"text\", { staticClass: \"check-tips\" }, [_vm._v(\"*\")]),\n          ]),\n          _c(\n            \"view\",\n            { staticClass: \"tags\" },\n            _vm._l(_vm.identity_data, function (item, index) {\n              return _c(\n                \"text\",\n                {\n                  key: index,\n                  staticClass: \"tag_item\",\n                  class: item.ispick ? \"tag_itemed\" : \"\",\n                  on: {\n                    tap: function ($event) {\n                      return _vm.select_tag(item)\n                    },\n                  },\n                },\n                [_vm._v(\" \" + _vm._s(item.value) + \" \")]\n              )\n            }),\n            0\n          ),\n        ]),\n        _c(\"view\", { staticClass: \"editlabel-item\" }, [\n          _c(\"view\", { staticClass: \"editlabel-title\" }, [\n            _vm._v(\" 接单通告 \"),\n            _c(\"text\", { staticClass: \"check-tips\" }, [_vm._v(\"*\")]),\n          ]),\n          _c(\n            \"view\",\n            { staticClass: \"tags\" },\n            _vm._l(_vm.notice_data, function (item, index) {\n              return _c(\n                \"text\",\n                {\n                  key: index,\n                  staticClass: \"tag_item\",\n                  class: item.ispick ? \"tag_itemed\" : \"\",\n                  on: {\n                    tap: function ($event) {\n                      return _vm.select_notice_tag(item)\n                    },\n                  },\n                },\n                [_vm._v(\" \" + _vm._s(item.value) + \" \")]\n              )\n            }),\n            0\n          ),\n        ]),\n        _c(\"view\", { staticClass: \"editlabel-item\" }, [\n          _c(\"view\", { staticClass: \"editlabel-title\" }, [\n            _vm._v(\" 形象风格 \"),\n            _c(\"text\", { staticClass: \"check-tips\" }, [_vm._v(\"*\")]),\n          ]),\n          _c(\n            \"view\",\n            { staticClass: \"tags\" },\n            _vm._l(_vm.style_data, function (item, index) {\n              return _c(\n                \"text\",\n                {\n                  key: index,\n                  staticClass: \"tag_item\",\n                  class: item.ispick ? \"tag_itemed\" : \"\",\n                  on: {\n                    tap: function ($event) {\n                      return _vm.select_style_tag(item)\n                    },\n                  },\n                },\n                [_vm._v(\" \" + _vm._s(item.value) + \" \")]\n              )\n            }),\n            0\n          ),\n        ]),\n      ]),\n      _c(\n        \"cover-view\",\n        {\n          staticClass: \"subbtn_bottom_block\",\n          class: _vm.isIphoneX ? \"fix-iphonex-button\" : \"\",\n        },\n        [\n          _c(\n            \"cover-view\",\n            { staticClass: \"subbtn_bottom\", on: { tap: _vm.sub } },\n            [_c(\"button\", { attrs: { formType: \"submit\" } }, [_vm._v(\"保存\")])]\n          ),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","// extracted by mini-css-extract-plugin","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"../../../../../node_modules/@tarojs/taro-loader/lib/raw.js!./index.vue\"\nvar config = {\"usingComponents\":{},\"navigationBarTitleText\":\"标签信息\"};\n\n\nvar inst = Page(createPageConfig(component, 'packageAdd/pages/user/editlabel/index', {root:{cn:[]}}, config || {}))\n\n\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=template&id=b8ca5e42&scoped=true&\""],"mappings":";;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC6CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AASA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AA3DA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA4DA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAEA;AACA;AACA;AADA;AAHA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAxJA;AA0JA;AACA;AACA;AACA;AA1KA;;;;;;;;;;;;;ACrEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC/GA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACPA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;;;A","sourceRoot":""}