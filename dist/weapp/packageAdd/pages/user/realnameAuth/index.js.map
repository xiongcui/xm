{"version":3,"file":"packageAdd/pages/user/realnameAuth/index.js","sources":["webpack:///./src/packageAdd/pages/user/realnameAuth/index.vue?99c5","webpack:///index.vue","webpack:///./src/packageAdd/pages/user/realnameAuth/index.vue?8f7f","webpack:///._src_assets_images_user_realname_card_gh.jpg","webpack:///._src_assets_images_user_realname_card_tx.jpg","webpack:///._src_assets_images_user_realname_safety.png","webpack:///._src_assets_images_user_realname_sfz.jpg","webpack:///._src_packageAdd_pages_user_realnameAuth_index.scss","webpack:///._src_packageAdd_pages_user_realnameAuth_index.vue","webpack:///./src/packageAdd/pages/user/realnameAuth/index.vue?7d96","webpack:///./src/packageAdd/pages/user/realnameAuth/index.vue?fd85"],"sourcesContent":["import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=280e1af2&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  \n}\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"280e1af2\",\n  \"468ecc40\"\n  \n)\n\ncomponent.options.__file = \"src/packageAdd/pages/user/realnameAuth/index.vue\"\nexport default component.exports","<template>\n  <view class=\"realname\">\n    <view class=\"realname_info\">\n      <view class=\"realname_title\">\n        <image src=\"../../../../assets/images/user/realname/sfz.jpg\"></image>\n        请上传身份证的正反面\n      </view>\n      <view class=\"realname_tips\">\n        <image src=\"../../../../assets/images/common/warn_icon.png\"></image>\n        请确保二代身份证有效、并且头像文字清晰，四角对齐，无反光、无遮挡。\n      </view>\n      <view class=\"card_identity\">\n        <image\n          :src=\"realname_rx\"\n          v-if=\"realname_rx\"\n          @tap=\"chooseImage(0)\"\n        ></image>\n        <image\n          v-else\n          @tap=\"chooseImage(0)\"\n          src=\"../../../../assets/images/user/realname/card_tx.jpg\"\n        ></image>\n      </view>\n      <view class=\"card_identity\">\n        <image\n          :src=\"realname_gh\"\n          v-if=\"realname_gh\"\n          @tap=\"chooseImage(1)\"\n        ></image>\n        <image\n          v-else\n          @tap=\"chooseImage(1)\"\n          src=\"../../../../assets/images/user/realname/card_gh.jpg\"\n        ></image>\n      </view>\n      <view class=\"realname_title\">\n        <image src=\"../../../../assets/images/user/realname/sfz.jpg\"></image>\n        请完善您的个人信息\n      </view>\n      <view class=\"realname_form\">\n        <view class=\"label\"> 真实姓名 </view>\n        <input\n          class=\"realname-input\"\n          placeholder=\"请输入真实姓名\"\n          v-model=\"realname\"\n        />\n      </view>\n      <view class=\"realname_form\">\n        <view class=\"label\"> 身份证号 </view>\n        <input\n          class=\"realname-input\"\n          placeholder=\"请输入身份证号\"\n          v-model=\"card\"\n        />\n      </view>\n      <view class=\"realname_txt\">\n        <image src=\"../../../../assets/images/user/realname/safety.png\"></image>\n        认证信息已加密 仅用于匹配认证信息\n      </view>\n      <view class=\"realname_btn\">确认提交</view>\n    </view>\n  </view>\n</template>\n\n<script>\nimport \"./index.scss\";\nimport { ocrCard } from \"../../../../api/index\";\nimport { Base64 } from \"js-Base64\";\nexport default {\n  name: \"realnameAuth\",\n  data() {\n    return {\n      realname: \"\",\n      realname_rx: \"\",\n      realname_gh: \"\",\n      card: \"\",\n      frontfileName: \"\",\n      backfileName: \"\",\n    };\n  },\n  methods: {\n    chooseImage(type) {\n      let _this = this;\n      wx.chooseMedia({\n        count: 1,\n        mediaType: [\"image\"],\n        sourceType: [\"album\", \"camera\"],\n        maxDuration: 30,\n        camera: \"back\",\n        success(res) {\n          wx.showLoading({\n            title: \"正在上传中\",\n          });\n          let arr = res.tempFiles;\n          var imgInfo = {};\n          arr.map(function (v, i) {\n            v[\"progress\"] = 0;\n            imgInfo = v;\n            if (type == 0) {\n              _this.uprxImgs(imgInfo, type);\n            } else {\n              _this.upghImgs(imgInfo, type);\n            }\n          });\n        },\n      });\n    },\n    uprxImgs(dataInfo, type) {\n      let header = {};\n      let token = wx.getStorageSync(\"token\");\n      header[\"Authorization\"] = \"Basic \" + Base64.encode(token + \":\");\n      wx.showLoading({\n        title: \"上传中\",\n        mask: true,\n      });\n      wx.uploadFile({\n        url: \"https://pai.qubeitech.com/v1/file/upload\",\n        filePath: dataInfo.tempFilePath,\n        formData: {\n          scr_type: \"idcard\",\n        },\n        name: \"file\",\n        header,\n        success: (res) => {\n          wx.hideLoading();\n          //判断上传的是图片还是视频\n          let data = JSON.parse(res.data);\n          if (data.code == 200) {\n            this.realname_rx = data.data.file1;\n            this.frontfileName = data.data.file_name1;\n            this.ocrCard(\n              {\n                id_card_filename: data.data.file_name1,\n                id_card_side: \"front\",\n              },\n              type\n            );\n          } else {\n            wx.showToast({\n              title: \"上传失败！\",\n              icon: \"none\",\n            });\n          }\n        },\n      });\n    },\n    upghImgs(dataInfo, type) {\n      let header = {};\n      let token = wx.getStorageSync(\"token\");\n      header[\"Authorization\"] = \"Basic \" + Base64.encode(token + \":\");\n      wx.showLoading({\n        title: \"上传中\",\n        mask: true,\n      });\n      wx.uploadFile({\n        url: \"https://pai.qubeitech.com/v1/file/upload\",\n        filePath: dataInfo.tempFilePath,\n        formData: {\n          scr_type: \"photo\",\n        },\n        name: \"file\",\n        header,\n        success: (res) => {\n          wx.hideLoading();\n          //判断上传的是图片还是视频\n          let data = JSON.parse(res.data);\n          if (data.code == 200) {\n            this.realname_gh = data.data.file1;\n            this.backfileName = data.data.file_name1;\n            this.ocrCard(\n              {\n                id_card_filename: data.data.file_name1,\n                id_card_side: \"back\",\n              },\n              type\n            );\n          } else {\n            wx.showToast({\n              title: \"上传失败！\",\n              icon: \"none\",\n            });\n          }\n        },\n      });\n    },\n    async ocrCard(params, type) {\n      try {\n        let res = await ocrCard(params);\n        if (res.data.data.id_card_front) {\n          if (type == \"front\") {\n            this.realname = res.data.data.id_name;\n          } else {\n            this.card = res.data.data.id_no;\n          }\n        }\n      } catch (error) {}\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n","var render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"view\", { staticClass: \"realname\" }, [\n    _c(\"view\", { staticClass: \"realname_info\" }, [\n      _c(\"view\", { staticClass: \"realname_title\" }, [\n        _c(\"image\", {\n          attrs: {\n            src: require(\"../../../../assets/images/user/realname/sfz.jpg\"),\n          },\n        }),\n        _vm._v(\" 请上传身份证的正反面 \"),\n      ]),\n      _c(\"view\", { staticClass: \"realname_tips\" }, [\n        _c(\"image\", {\n          attrs: {\n            src: require(\"../../../../assets/images/common/warn_icon.png\"),\n          },\n        }),\n        _vm._v(\n          \" 请确保二代身份证有效、并且头像文字清晰，四角对齐，无反光、无遮挡。 \"\n        ),\n      ]),\n      _c(\"view\", { staticClass: \"card_identity\" }, [\n        _vm.realname_rx\n          ? _c(\"image\", {\n              attrs: { src: _vm.realname_rx },\n              on: {\n                tap: function ($event) {\n                  return _vm.chooseImage(0)\n                },\n              },\n            })\n          : _c(\"image\", {\n              attrs: {\n                src: require(\"../../../../assets/images/user/realname/card_tx.jpg\"),\n              },\n              on: {\n                tap: function ($event) {\n                  return _vm.chooseImage(0)\n                },\n              },\n            }),\n      ]),\n      _c(\"view\", { staticClass: \"card_identity\" }, [\n        _vm.realname_gh\n          ? _c(\"image\", {\n              attrs: { src: _vm.realname_gh },\n              on: {\n                tap: function ($event) {\n                  return _vm.chooseImage(1)\n                },\n              },\n            })\n          : _c(\"image\", {\n              attrs: {\n                src: require(\"../../../../assets/images/user/realname/card_gh.jpg\"),\n              },\n              on: {\n                tap: function ($event) {\n                  return _vm.chooseImage(1)\n                },\n              },\n            }),\n      ]),\n      _c(\"view\", { staticClass: \"realname_title\" }, [\n        _c(\"image\", {\n          attrs: {\n            src: require(\"../../../../assets/images/user/realname/sfz.jpg\"),\n          },\n        }),\n        _vm._v(\" 请完善您的个人信息 \"),\n      ]),\n      _c(\"view\", { staticClass: \"realname_form\" }, [\n        _c(\"view\", { staticClass: \"label\" }, [_vm._v(\" 真实姓名 \")]),\n        _c(\"input\", {\n          directives: [\n            {\n              name: \"model\",\n              rawName: \"v-model\",\n              value: _vm.realname,\n              expression: \"realname\",\n            },\n          ],\n          staticClass: \"realname-input\",\n          attrs: { placeholder: \"请输入真实姓名\" },\n          domProps: { value: _vm.realname },\n          on: {\n            input: function ($event) {\n              if ($event.target.composing) {\n                return\n              }\n              _vm.realname = $event.target.value\n            },\n          },\n        }),\n      ]),\n      _c(\"view\", { staticClass: \"realname_form\" }, [\n        _c(\"view\", { staticClass: \"label\" }, [_vm._v(\" 身份证号 \")]),\n        _c(\"input\", {\n          directives: [\n            {\n              name: \"model\",\n              rawName: \"v-model\",\n              value: _vm.card,\n              expression: \"card\",\n            },\n          ],\n          staticClass: \"realname-input\",\n          attrs: { placeholder: \"请输入身份证号\" },\n          domProps: { value: _vm.card },\n          on: {\n            input: function ($event) {\n              if ($event.target.composing) {\n                return\n              }\n              _vm.card = $event.target.value\n            },\n          },\n        }),\n      ]),\n      _c(\"view\", { staticClass: \"realname_txt\" }, [\n        _c(\"image\", {\n          attrs: {\n            src: require(\"../../../../assets/images/user/realname/safety.png\"),\n          },\n        }),\n        _vm._v(\" 认证信息已加密 仅用于匹配认证信息 \"),\n      ]),\n      _c(\"view\", { staticClass: \"realname_btn\" }, [_vm._v(\"确认提交\")]),\n    ]),\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","module.exports = __webpack_public_path__ + \"assets/images/user/realname/card_gh.jpg\";","module.exports = __webpack_public_path__ + \"assets/images/user/realname/card_tx.jpg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAgCAMAAAA2a+hwAAAAwFBMVEUAAAD/VFf/VFj/VFf/Tk7+VFj/TEz/U1f/VFb/V1n/VFf/VVf/VVf/VFb/VFf/VFf/U1b/VFf/VFf/VFf/VFf+VFf+VFf/VFf/VFf/VFf/U1f/VFf/VFf/VFf/Ulb/VVX+VFf/VFf/VFf/VFb/VVj/UVn/VFf+VFb/VFj+VFf/VFf/VVf/Ulb/TVn/VFf/VVj/WFj/VFf////+xcb+d3n+t7n+hYf+6Oj+enz+bnH+YGP+WVz+1db+rK3+n6H+np/k3FXjAAAAMXRSTlMA/FT3BpwDbT0R+TEO9O83HeDWzL6jgn546NLGqWArFeSwh3RcGtq2lJBPSSUKq0sg7MMaOQAAAXdJREFUKM+tzdduo0AAheEzgMeY3kyzwT19y3EW0nY37/9WGYGIQhzf5RNCGv0cBoPf02XpCTdMUhNjUksESeEKKmG2wrtZHpLeRLuTwMrMSlKf2H2qJy4Z7w0AxsqB4s91MtEkcCkolqYK2nJN0kvyQO2zggxt6GKrToe04KD/dh9SUxHqPxZH4srApI8znpqexqeX8/Hp2JyPf4733xVdIR0qL/+a5v740DTNYx/nKnqcwepWg26t4ZK3iFhjTeWxbV+Pf9u2faZiYkEbG95gc3KncKRHBxmvMT2JC9iMAF+9Autz3CHnFYCQPubsPD/8Z8d15AVNFXf8idriSIobxlBmrrCRjlpkyJgVoGSMpbH40FwbOUuji0bJFKuIA3GLWhc+er4lKhyGrfcLwZpbDPbC0mBcCSrxHYKIG4l3O4oUsDdWWUmYBRc/8EGlM6kBRz1bi8tRU/euKeYmgrygyPGZc62ThSATG184ZBf01PqcwBgd3wChbVrSVgbnLwAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"assets/images/user/realname/sfz.jpg\";","// extracted by mini-css-extract-plugin","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"../../../../../node_modules/@tarojs/taro-loader/lib/raw.js!./index.vue\"\nvar config = {};\n\n\nvar inst = Page(createPageConfig(component, 'packageAdd/pages/user/realnameAuth/index', {root:{cn:[]}}, config || {}))\n\n\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=template&id=280e1af2&scoped=true&\""],"mappings":";;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC2CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AArBA;AAuBA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAEA;AACA;AAFA;AAMA;AACA;AACA;AACA;AAFA;AAIA;AACA;AA5BA;AA8BA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAEA;AACA;AAFA;AAMA;AACA;AACA;AACA;AAFA;AAIA;AACA;AA5BA;AA8BA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AApHA;AAZA;;;;;;;;;;;;;ACpEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACxIA;;;;;;;;;;;;ACAA;;;;;;;;;;;;ACAA;;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACPA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;;;A","sourceRoot":""}